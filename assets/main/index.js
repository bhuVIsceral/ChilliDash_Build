System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,l,r,n,c,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,c=t.AudioClip,u=t.AudioSource,a=t.Component}],execute:function(){var p,s,f,h,S,b,g,m,y,x,d,w,C;r._RF.push({},"0aec0++ls5MhJLpniF71b5j","AudioManager",void 0);var M=n.ccclass,O=n.property;t("AudioManager",(p=M("AudioManager"),s=O({type:c}),f=O({type:c}),h=O({type:c}),S=O({type:c}),b=O({type:c}),p((y=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bgm",y,l(e)),o(e,"collectChilliSfx",x,l(e)),o(e,"collectPowerupSfx",d,l(e)),o(e,"hitObstacleSfx",w,l(e)),o(e,"failSfx",C,l(e)),e.bgmSource=null,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.bgmSource=this.getComponent(u)},r.playBGM=function(){this.bgmSource&&this.bgm&&(this.bgmSource.clip=this.bgm,this.bgmSource.loop=!0,this.bgmSource.play())},r.stopBGM=function(){this.bgmSource&&this.bgmSource.stop()},r.playChilliSfx=function(){this.collectChilliSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectChilliSfx,.5)},r.playPowerupSfx=function(){this.collectPowerupSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectPowerupSfx,1)},r.playHitSfx=function(){this.hitObstacleSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.hitObstacleSfx,1)},r.playWooshSfx=function(){this.failSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.failSfx,1)},e}(a)).prototype,"bgm",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(m.prototype,"collectChilliSfx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(m.prototype,"collectPowerupSfx",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(m.prototype,"hitObstacleSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(m.prototype,"failSfx",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/CameraShaker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,s,e,o,a,r,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,s=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,r=i.Vec3,h=i.tween,l=i.Component}],execute:function(){var u,c,p,k;o._RF.push({},"5fff3BMAx5MBbsr24JX9uBT","CameraShaker",void 0);var g=a.ccclass,y=a.property;i("CameraShaker",g("CameraShaker")((p=t((c=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,s(t,"shakeDuration",p,e(t)),s(t,"shakeIntensity",k,e(t)),t.originalPos=new r,t.isShaking=!1,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.originalPos.set(this.node.position)},o.shake=function(){var i=this;this.isShaking||(this.isShaking=!0,h(this.node).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity,this.originalPos.y+this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x-this.shakeIntensity,this.originalPos.y-this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity/2,this.originalPos.y,this.originalPos.z)}).to(this.shakeDuration/4,{position:this.originalPos}).call((function(){i.isShaking=!1})).start())},t}(l)).prototype,"shakeDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(c.prototype,"shakeIntensity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),u=c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts","./PlayerController.ts"],(function(e){var n,t,o,r,i,a,l,s,c,g,p,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.BoxCollider2D,s=e.Component},function(e){c=e.GameManager},function(e){g=e.Tagger,p=e.EObjectType},function(e){u=e.PlayerController}],execute:function(){var C,f,y,h,m;i._RF.push({},"1a90efcvMdNnJRyl3lHNVgJ","CollisionManager",void 0);var M=a.ccclass,d=a.property;e("CollisionManager",(C=M("CollisionManager"),f=d({type:c}),C((m=n((h=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"gameManager",m,r(n)),n.playerController=null,n}t(n,e);var i=n.prototype;return i.start=function(){this.playerController=this.getComponent(u);var e=this.getComponent(l);e?(e.on("begin-contact",this.onBeginContact,this),console.log("Collision listener registered on Player.")):console.error("Player is missing its BoxCollider2D component!")},i.onDestroy=function(){var e=this.getComponent(l);e&&e.off("begin-contact",this.onBeginContact,this)},i.onBeginContact=function(e,n,t){if(this.gameManager){var o=n.getComponent(g);if(o){var r=o.tag;if(r===p.Chilli)this.gameManager.onPlayerCollectChilli(),n.node.emit("despawn");else if(r===p.Obstacle){if(this.playerController&&this.playerController.isJumping)return;this.gameManager.onPlayerHitObstacle()}else r!==p.PowerupSpeed&&r!==p.PowerupMagnet&&r!==p.Powerup2x||(this.gameManager.onPlayerCollectPowerUp(r),n.node.emit("despawn"))}}},n}(s)).prototype,"gameManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts","./Spawner.ts","./CameraShaker.ts","./AudioManager.ts","./PowerupManager.ts","./Tagger.ts"],(function(e){var t,i,a,r,n,o,l,s,u,p,c,h,g,f,d,m,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Node,s=e.Label,u=e.director,p=e.Component,c=e.UIOpacity,h=e.Sprite},function(e){g=e.PlayerController},function(e){f=e.Spawner},function(e){d=e.CameraShaker},function(e){m=e.AudioManager},function(e){y=e.PowerupManager},function(e){v=e.EObjectType}],execute:function(){var M,w,b,S,C,P,G,L,I,U,z,O,x,k,E,A,D,B,_,N,H,R,T,j,F,Y,Z,q,J,K,Q,V;n._RF.push({},"a7d05f7x0ZIu7tsnY3rfx5i","GameManager",void 0);var W=o.ccclass,X=o.property;e("GameManager",(M=W("GameManager"),w=X({type:g}),b=X({type:f}),S=X({type:d}),C=X({type:m}),P=X({type:y}),G=X({type:l}),L=X({type:l}),I=X({type:l}),U=X({type:s}),z=X({type:s}),O=X({type:l}),x=X({type:l}),k=X({type:l}),E=X({type:l}),M(((V=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,a(t,"playerController",B,r(t)),a(t,"spawner",_,r(t)),a(t,"cameraShaker",N,r(t)),a(t,"audioManager",H,r(t)),a(t,"powerupManager",R,r(t)),a(t,"startMenu",T,r(t)),a(t,"gameOverMenu",j,r(t)),a(t,"inGameUI",F,r(t)),a(t,"finalScoreLabel",Y,r(t)),a(t,"scoreLabel",Z,r(t)),a(t,"livesContainer",q,r(t)),a(t,"powerupCardSpeed",J,r(t)),a(t,"powerupCardMagnet",K,r(t)),a(t,"powerupCard2x",Q,r(t)),t.gameState="menu",t.gameSpeed=300,t.score=0,t.lives=3,t.timeElapsed=0,t.chilliesCollectedSinceLastScale=0,t.speedMilestones=0,t}i(t,e);var n=t.prototype;return n.onLoad=function(){null===t.instance?t.instance=this:this.destroy()},n.onDestroy=function(){t.instance===this&&(t.instance=null)},n.start=function(){this.startGame(),this.startMenu&&(this.startMenu.active=!0),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!1)},n.update=function(e){"playing"===this.gameState&&(this.updateDifficulty(e),this.applyPowerupEffects(),this.spawner&&(this.spawner.gameSpeed=this.gameSpeed),this.updatePowerupUI())},n.startGame=function(){this.gameState="playing",this.startMenu&&(this.startMenu.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!0),this.score=0,this.lives=3,this.gameSpeed=300,this.timeElapsed=0,this.chilliesCollectedSinceLastScale=0,this.speedMilestones=0,this.updateScoreUI(),this.updateLivesUI(),this.audioManager&&this.audioManager.playBGM()},n.updateDifficulty=function(e){this.timeElapsed+=e;var t=Math.floor(this.timeElapsed/45)+Math.floor(this.chilliesCollectedSinceLastScale/50);if(t>this.speedMilestones){for(var i=t-this.speedMilestones,a=0;a<i;a++)this.gameSpeed*=1.1;this.gameSpeed=Math.min(this.gameSpeed,800),console.log("Difficulty increased! New speed: "+this.gameSpeed),this.speedMilestones=t}},n.applyPowerupEffects=function(){var e,t=this.gameSpeed;null!=(e=this.powerupManager)&&e.isActive(v.PowerupSpeed)&&(t*=2),this.spawner&&(this.spawner.gameSpeed=t)},n.onPlayerHitObstacle=function(){"playing"===this.gameState&&(this.cameraShaker&&this.cameraShaker.shake(),this.audioManager&&this.audioManager.playHitSfx(),this.lives--,this.updateLivesUI(),console.log("Player hit obstacle! Lives remaining: "+this.lives),this.lives<=0&&this.endGame())},n.onPlayerCollectChilli=function(){var e;if("playing"===this.gameState){this.audioManager&&this.audioManager.playChilliSfx();var t=null!=(e=this.powerupManager)&&e.isActive(v.Powerup2x)?2:1;this.score+=1*t,this.chilliesCollectedSinceLastScale++,this.updateScoreUI()}},n.onPlayerCollectPowerUp=function(e){var t;"playing"===this.gameState&&(this.audioManager&&this.audioManager.playPowerupSfx(),null==(t=this.powerupManager)||t.activatePowerup(e))},n.updateScoreUI=function(){this.scoreLabel&&(this.scoreLabel.string=Math.floor(this.score).toString())},n.updateLivesUI=function(){var e=this;this.livesContainer&&this.livesContainer.children.forEach((function(t,i){t.active=i<e.lives}))},n.updatePowerupUI=function(){var e=this;if(this.powerupManager){var t=function(t,i){if(t){var a=e.powerupManager.isActive(i),r=t.getChildByName("ActiveGlow");r&&(r.active=a);var n=t.getChildByName("ProgressBar");if(n){var o=n.getComponent(c);o&&(console.log(n+a.toString()),o.opacity=a?255:0);var l=n.getComponent(h);l&&(l.fillRange=e.powerupManager.getProgress(i))}}};t(this.powerupCardSpeed,v.PowerupSpeed),t(this.powerupCardMagnet,v.PowerupMagnet),t(this.powerupCard2x,v.Powerup2x)}},n.endGame=function(){this.gameState="gameOver",this.audioManager&&this.audioManager.stopBGM(),console.log("Game Over!"),this.gameOverMenu&&(this.gameOverMenu.active=!0),this.inGameUI&&(this.inGameUI.active=!1),this.finalScoreLabel&&(this.finalScoreLabel.string=Math.floor(this.score).toString())},n.restartGame=function(){u.loadScene("chilli_dash")},t}(p)).instance=null,B=t((D=V).prototype,"playerController",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(D.prototype,"spawner",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(D.prototype,"cameraShaker",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(D.prototype,"audioManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"powerupManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"startMenu",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"gameOverMenu",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"inGameUI",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(D.prototype,"finalScoreLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(D.prototype,"scoreLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(D.prototype,"livesContainer",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(D.prototype,"powerupCardSpeed",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(D.prototype,"powerupCardMagnet",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(D.prototype,"powerupCard2x",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=D))||A));n._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts"],(function(t){var e,o,n,r,i,l,a,s,h,u,p,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Node,s=t.Vec2,h=t.input,u=t.Input,p=t.KeyCode,c=t.Component},function(t){y=t.PlayerController}],execute:function(){var T,f,C,m,v,g,E,_,b,R,B;i._RF.push({},"ba2c1HcnNNBDa6kv26FL71d","InputManager",void 0);var S=l.ccclass,d=l.property;t("InputManager",(T=S("InputManager"),f=d({type:y}),C=d({type:a}),m=d({type:a}),v=d({type:a}),T((_=e((E=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,n(e,"playerController",_,r(e)),n(e,"leftButton",b,r(e)),n(e,"rightButton",R,r(e)),n(e,"jumpButton",B,r(e)),e.touchStartPos=new s,e.touchStartTime=0,e.swipeThreshold=40,e}o(e,t);var i=e.prototype;return i.onLoad=function(){h.on(u.EventType.KEY_DOWN,this.onKeyDown,this),this.node.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.leftButton&&this.leftButton.on(a.EventType.TOUCH_START,this.playerController.moveLeft,this.playerController),this.rightButton&&this.rightButton.on(a.EventType.TOUCH_START,this.playerController.moveRight,this.playerController),this.jumpButton&&this.jumpButton.on(a.EventType.TOUCH_START,this.playerController.jump,this.playerController)},i.onDestroy=function(){h.off(u.EventType.KEY_DOWN,this.onKeyDown,this),this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.leftButton&&this.leftButton.off(a.EventType.TOUCH_START,this.playerController.moveLeft,this.playerController),this.rightButton&&this.rightButton.off(a.EventType.TOUCH_START,this.playerController.moveRight,this.playerController),this.jumpButton&&this.jumpButton.off(a.EventType.TOUCH_START,this.playerController.jump,this.playerController)},i.onKeyDown=function(t){if(this.playerController)switch(t.keyCode){case p.KEY_A:case p.ARROW_LEFT:this.playerController.moveLeft();break;case p.KEY_D:case p.ARROW_RIGHT:this.playerController.moveRight();break;case p.KEY_W:case p.ARROW_UP:case p.SPACE:this.playerController.jump()}},i.onTouchStart=function(t){this.touchStartPos=t.getUILocation(),this.touchStartTime=performance.now()},i.onTouchEnd=function(t){if(this.playerController){var e=t.getUILocation(),o=performance.now()-this.touchStartTime,n=e.x-this.touchStartPos.x,r=e.y-this.touchStartPos.y;o<200&&Math.abs(n)<20&&Math.abs(r)<20?this.playerController.jump():Math.abs(n)>Math.abs(r)&&Math.abs(n)>this.swipeThreshold&&(n>0?this.playerController.moveRight():this.playerController.moveLeft())}},e}(c)).prototype,"playerController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(E.prototype,"leftButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"rightButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"jumpButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/LaneRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Graphics,i=e.Color,a=e.Component}],execute:function(){var s;n._RF.push({},"72e5fHwEs9PMLyb6PysBfo7","LaneRenderer",void 0);var c=r.ccclass,u=(r.property,[-120,0,120]),d=1.5,l=.5,h=1.2;e("LaneRenderer",c("LaneRenderer")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){var e=this.getComponent(o);e?(e.lineWidth=10,e.strokeColor=new i(255,255,255,204),this.drawCurvedLine(0,1,e),this.drawCurvedLine(1,2,e),e.stroke()):console.error("Please add a Graphics component to the LaneRenderer node in the editor.")},r.drawCurvedLine=function(e,t,n){n.moveTo(this.getMidX(e,t,0),0);for(var r=10;r<=960;r+=10){var o=this.getMidX(e,t,r);n.lineTo(o,r)}},r.getMidX=function(e,t,n){var r=this.laneCenterXAtY(e,n);return r+(this.laneCenterXAtY(t,n)-r)/2},r.laneScaleAtY=function(e){var t=Math.min(1,Math.max(0,e/960)),n=Math.pow(t,h);return d+(l-d)*n},r.laneCenterXAtY=function(e,t){return 0+u[e]*this.laneScaleAtY(t)},n}(a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./CameraShaker.ts","./CollisionManager.ts","./GameManager.ts","./InputManager.ts","./LaneRenderer.ts","./MovingObject.ts","./PlayerController.ts","./PowerupManager.ts","./Spawner.ts","./Tagger.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MovingObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts"],(function(e){var n,t,o,s,i,r,a,p;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,s=e.Vec3,i=e.Component},function(e){r=e.GameManager},function(e){a=e.Tagger,p=e.EObjectType}],execute:function(){var c;t._RF.push({},"d54bfknD8ZBO40wVM2DlCPu","MovingObject",void 0);var l=o.ccclass;o.property,e("MovingObject",l("MovingObject")(c=function(e){function t(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return(n=e.call.apply(e,[this].concat(o))||this).spawner=null,n.speed=200,n.laneIndex=0,n}n(t,e);var o=t.prototype;return o.onLoad=function(){this.node.on("despawn",this.despawn,this)},o.onDestroy=function(){this.node.off("despawn",this.despawn,this)},o.update=function(e){var n,t=r.instance,o=this.getComponent(a);if(t&&t.playerController&&o&&o.tag===p.Chilli&&null!=(n=t.powerupManager)&&n.isActive(p.PowerupMagnet)){var i=t.playerController.node.position,c=this.node.position,l=new s;s.lerp(l,c,i,.1),this.node.setPosition(l)}else{if(!this.spawner||!this.spawner.laneRenderer)return;var d=this.node.getPosition();d.y+=this.speed*e,d.x=this.spawner.laneRenderer.laneCenterXAtY(this.laneIndex,d.y),this.node.setPosition(d)}this.node.position.y>550&&this.despawn()},o.despawn=function(){this.node.parent&&this.spawner&&this.spawner.despawnObject(this.node)},t}(i))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r,o,a,s,u,p,l,m;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SpriteFrame,u=t.Sprite,p=t.tween,l=t.Vec3,m=t.Component}],execute:function(){var c,h,f,g,v,b,y,d,F,w,j,z,C;o._RF.push({},"2a1a7s2a5JI3q0b4iW3cWBk","PlayerController",void 0);var D=a.ccclass,L=a.property,M=[-120,0,120];t("PlayerController",(c=D("PlayerController"),h=L({type:s}),f=L({type:s}),g=L({type:s}),c((y=i((b=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"moveDuration",y,r(i)),e(i,"jumpHeight",d,r(i)),e(i,"jumpDuration",F,r(i)),e(i,"runFrame1",w,r(i)),e(i,"runFrame2",j,r(i)),e(i,"jumpFrame",z,r(i)),e(i,"animationInterval",C,r(i)),i.isJumping=!1,i.currentLane=1,i.isMoving=!1,i.startY=0,i.animationTimer=0,i.currentRunFrame=0,i.spriteComponent=null,i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.startY=this.node.position.y,this.spriteComponent=this.getComponent(u)},o.update=function(t){this.handleAnimation(t)},o.handleAnimation=function(t){this.spriteComponent&&(this.isJumping?this.spriteComponent.spriteFrame=this.jumpFrame:(this.animationTimer+=t,this.animationTimer>=this.animationInterval&&(this.animationTimer=0,this.currentRunFrame=1-this.currentRunFrame,this.spriteComponent.spriteFrame=0===this.currentRunFrame?this.runFrame1:this.runFrame2)))},o.moveLeft=function(){this.isJumping||this.isMoving||0===this.currentLane||(this.currentLane--,this.startMoveTween())},o.moveRight=function(){this.isJumping||this.isMoving||2===this.currentLane||(this.currentLane++,this.startMoveTween())},o.jump=function(){var t=this;this.isJumping||(this.isJumping=!0,p(this.node).to(this.jumpDuration/2,{position:new l(this.node.position.x,this.startY+this.jumpHeight,this.node.position.z)},{easing:"cubicOut"}).to(this.jumpDuration/2,{position:new l(this.node.position.x,this.startY,this.node.position.z)},{easing:"cubicIn"}).call((function(){t.isJumping=!1})).start())},o.startMoveTween=function(){var t=this;this.isMoving=!0;var i=M[this.currentLane];p(this.node).to(this.moveDuration,{position:new l(i,this.node.position.y,this.node.position.z)}).call((function(){t.isMoving=!1})).start()},i}(m)).prototype,"moveDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),d=i(b.prototype,"jumpHeight",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),F=i(b.prototype,"jumpDuration",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),w=i(b.prototype,"runFrame1",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(b.prototype,"runFrame2",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(b.prototype,"jumpFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(b.prototype,"animationInterval",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),v=b))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts"],(function(e){var t,r,o,n,a,i;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,n=e._decorator,a=e.Component},function(e){i=e.EObjectType}],execute:function(){var u;o._RF.push({},"83ee1Ev2+1KPZIEE1XhME6H","PowerupManager",void 0);var c=n.ccclass,p=(n.property,new Map([[i.PowerupSpeed,{duration:5}],[i.PowerupMagnet,{duration:8}],[i.Powerup2x,{duration:10}]]));e("PowerupManager",c("PowerupManager")(u=function(e){function o(){for(var t,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(t=e.call.apply(e,[this].concat(o))||this).activePowerups=new Map,t}t(o,e);var n=o.prototype;return n.update=function(e){for(var t,o=r(this.activePowerups.entries());!(t=o()).done;){var n=t.value,a=n[0],i=n[1];i.timeLeft-=e,i.timeLeft<=0&&this.activePowerups.delete(a)}},n.activatePowerup=function(e){var t=p.get(e);t&&(this.activePowerups.set(e,{type:e,duration:t.duration,timeLeft:t.duration}),console.log("Activated power-up: "+i[e]))},n.isActive=function(e){return this.activePowerups.has(e)},n.getProgress=function(e){var t=this.activePowerups.get(e);return t?t.timeLeft/t.duration:0},o}(a))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingObject.ts","./LaneRenderer.ts"],(function(e){var t,o,r,i,a,s,n,l,p,h,u,P,f,w,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,n=e._decorator,l=e.Prefab,p=e.NodePool,h=e.instantiate,u=e.random,P=e.randomRangeInt,f=e.Component},function(e){w=e.MovingObject},function(e){b=e.LaneRenderer}],execute:function(){var c,d,g,m,v,y,S,M,x,O,R,z,j,C,I,L,T,_,D;s._RF.push({},"45d98V1a/tA9rNM9l3y6vvd","Spawner",void 0);var k=n.ccclass,A=n.property,F=[-120,0,120];e("Spawner",(c=k("Spawner"),d=A({type:b}),g=A({type:l}),m=A({type:l}),v=A({type:l}),y=A({type:l}),S=A({type:l}),M=A({type:l}),x=A({type:l}),c((z=t((R=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"laneRenderer",z,i(t)),r(t,"chilliPrefab",j,i(t)),r(t,"cratePrefab",C,i(t)),r(t,"flowerPrefab",I,i(t)),r(t,"grassPrefab",L,i(t)),r(t,"powerupSpeedPrefab",T,i(t)),r(t,"powerupMagnetPrefab",_,i(t)),r(t,"powerup2xPrefab",D,i(t)),t.gameSpeed=400,t.chilliPool=new p,t.cratePool=new p,t.flowerPool=new p,t.grassPool=new p,t.powerupSpeedPool=new p,t.powerupMagnetPool=new p,t.powerup2xPool=new p,t.pools=new Map,t.powerupPools=[],t.powerupPrefabs=[],t.obstaclePools=[],t.obstaclePrefabs=[],t.spawnTimer=0,t}o(t,e);var s=t.prototype;return s.onLoad=function(){this.initPool(this.chilliPool,this.chilliPrefab,20),this.initPool(this.cratePool,this.cratePrefab,10),this.initPool(this.flowerPool,this.flowerPrefab,5),this.initPool(this.grassPool,this.grassPrefab,5),this.initPool(this.powerupSpeedPool,this.powerupSpeedPrefab,2),this.initPool(this.powerupMagnetPool,this.powerupMagnetPrefab,2),this.initPool(this.powerup2xPool,this.powerup2xPrefab,2),this.chilliPrefab&&this.pools.set(this.chilliPrefab.name,this.chilliPool),this.cratePrefab&&this.pools.set(this.cratePrefab.name,this.cratePool),this.flowerPrefab&&this.pools.set(this.flowerPrefab.name,this.flowerPool),this.grassPrefab&&this.pools.set(this.grassPrefab.name,this.grassPool),this.powerupSpeedPrefab&&this.pools.set(this.powerupSpeedPrefab.name,this.powerupSpeedPool),this.powerupMagnetPrefab&&this.pools.set(this.powerupMagnetPrefab.name,this.powerupMagnetPool),this.powerup2xPrefab&&this.pools.set(this.powerup2xPrefab.name,this.powerup2xPool),this.powerupPools=[this.powerupSpeedPool,this.powerupMagnetPool,this.powerup2xPool],this.powerupPrefabs=[this.powerupSpeedPrefab,this.powerupMagnetPrefab,this.powerup2xPrefab],this.obstaclePools=[this.cratePool,this.grassPool,this.flowerPool],this.obstaclePrefabs=[this.cratePrefab,this.grassPrefab,this.flowerPrefab]},s.initPool=function(e,t,o){if(t)for(var r=0;r<o;r++){var i=h(t);e.put(i)}},s.update=function(e){if(this.spawnTimer+=e,this.spawnTimer>=this.spawnInterval){this.spawnTimer=0;var t=u();t<.2?this.spawnRandomPowerUp():t<.5&&t>.2?this.spawnObstaclePattern():this.spawnChilliPattern()}},s.spawnRandomPowerUp=function(){var e=P(0,this.powerupPools.length),t=P(0,3);this.spawnObject(this.powerupPools[e],this.powerupPrefabs[e],t)},s.spawnObstaclePattern=function(){var e=P(0,3);this.spawnRandomObstacle(e);var t=this.gameSpeed/1200;if(u()<t){var o;do{o=P(0,3)}while(o===e);this.spawnRandomObstacle(o)}},s.spawnRandomObstacle=function(e){var t=P(0,this.obstaclePools.length);this.spawnObject(this.obstaclePools[t],this.obstaclePrefabs[t],e)},s.spawnChilliPattern=function(){for(var e=P(1,4),t=new Set,o=0;o<e;o++){var r=void 0;do{r=P(0,3)}while(t.has(r));t.add(r),this.spawnObject(this.chilliPool,this.chilliPrefab,r)}},s.spawnObject=function(e,t,o){if(t){var r=e.size()>0?e.get():h(t);if(r){var i=r.getComponent(w);i&&(i.spawner=this,i.speed=this.gameSpeed,i.laneIndex=o),r.setPosition(F[o],-550,0),this.node.addChild(r)}}},s.despawnObject=function(e){var t=this.pools.get(e.name);t?t.put(e):e.destroy()},a(t,[{key:"spawnInterval",get:function(){return 50/this.gameSpeed*2}}]),t}(f)).prototype,"laneRenderer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"chilliPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(R.prototype,"cratePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"flowerPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"grassPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"powerupSpeedPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"powerupMagnetPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"powerup2xPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tagger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,a,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Enum,u=e.Component}],execute:function(){var p,l,s,g,f;i._RF.push({},"def5db2VCdHRpzCdcJYttKF","Tagger",void 0);var d=a.ccclass,y=a.property,h=e("EObjectType",function(e){return e[e.None=0]="None",e[e.Chilli=1]="Chilli",e[e.Obstacle=2]="Obstacle",e[e.PowerupSpeed=3]="PowerupSpeed",e[e.PowerupMagnet=4]="PowerupMagnet",e[e.Powerup2x=5]="Powerup2x",e}({}));c(h);e("Tagger",(p=d("Tagger"),l=y({type:h}),p((f=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"tag",f,o(r)),r}return t(r,e),r}(u)).prototype,"tag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.None}}),s=g))||s));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});