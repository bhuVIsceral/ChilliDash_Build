System.register("bundle://main/_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,l,r,n,c,u,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){r=t.cclegacy,n=t._decorator,c=t.AudioClip,u=t.AudioSource,a=t.Component}],execute:function(){var p,s,f,h,b,S,g,m,y,x,d,w,C;r._RF.push({},"0aec0++ls5MhJLpniF71b5j","AudioManager",void 0);var M=n.ccclass,O=n.property;t("AudioManager",(p=M("AudioManager"),s=O({type:c}),f=O({type:c}),h=O({type:c}),b=O({type:c}),S=O({type:c}),p((y=e((m=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return e=t.call.apply(t,[this].concat(r))||this,o(e,"bgm",y,l(e)),o(e,"collectChilliSfx",x,l(e)),o(e,"collectPowerupSfx",d,l(e)),o(e,"hitObstacleSfx",w,l(e)),o(e,"failSfx",C,l(e)),e.bgmSource=null,e}i(e,t);var r=e.prototype;return r.onLoad=function(){this.bgmSource=this.getComponent(u)},r.playBGM=function(){this.bgmSource&&this.bgm&&(this.bgmSource.clip=this.bgm,this.bgmSource.loop=!0,this.bgmSource.play())},r.stopBGM=function(){this.bgmSource&&this.bgmSource.stop()},r.playChilliSfx=function(){this.collectChilliSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectChilliSfx,.5)},r.playPowerupSfx=function(){this.collectPowerupSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectPowerupSfx,1)},r.playHitSfx=function(){this.hitObstacleSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.hitObstacleSfx,1)},r.playWooshSfx=function(){this.failSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.failSfx,1)},e}(a)).prototype,"bgm",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(m.prototype,"collectChilliSfx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=e(m.prototype,"collectPowerupSfx",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(m.prototype,"hitObstacleSfx",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(m.prototype,"failSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=m))||g));r._RF.pop()}}}));

System.register("bundle://main/_virtual/CameraShaker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,e,s,o,a,r,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,s=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,r=i.Vec3,h=i.tween,l=i.Component}],execute:function(){var u,c,p,g;o._RF.push({},"5fff3BMAx5MBbsr24JX9uBT","CameraShaker",void 0);var k=a.ccclass,y=a.property;i("CameraShaker",k("CameraShaker")((p=t((c=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,e(t,"shakeDuration",p,s(t)),e(t,"shakeIntensity",g,s(t)),t.originalPos=new r,t.isShaking=!1,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.originalPos.set(this.node.position)},o.shake=function(){var i=this;this.isShaking||(this.isShaking=!0,h(this.node).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity,this.originalPos.y+this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x-this.shakeIntensity,this.originalPos.y-this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity/2,this.originalPos.y,this.originalPos.z)}).to(this.shakeDuration/4,{position:this.originalPos}).call((function(){i.isShaking=!1})).start())},t}(l)).prototype,"shakeDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=t(c.prototype,"shakeIntensity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),u=c))||u);o._RF.pop()}}}));

System.register("bundle://main/_virtual/CollisionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts","./PlayerController.ts"],(function(e){var n,t,o,r,i,a,l,s,c,g,p,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.BoxCollider2D,s=e.Component},function(e){c=e.GameManager},function(e){g=e.Tagger,p=e.EObjectType},function(e){u=e.PlayerController}],execute:function(){var C,f,y,h,m;i._RF.push({},"1a90efcvMdNnJRyl3lHNVgJ","CollisionManager",void 0);var d=a.ccclass,M=a.property;e("CollisionManager",(C=d("CollisionManager"),f=M({type:c}),C((m=n((h=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,o(n,"gameManager",m,r(n)),n.playerController=null,n}t(n,e);var i=n.prototype;return i.start=function(){this.playerController=this.getComponent(u);var e=this.getComponent(l);e?(e.on("begin-contact",this.onBeginContact,this),console.log("Collision listener registered on Player.")):console.error("Player is missing its BoxCollider2D component!")},i.onDestroy=function(){var e=this.getComponent(l);e&&e.off("begin-contact",this.onBeginContact,this)},i.onBeginContact=function(e,n,t){if(this.gameManager){var o=n.getComponent(g);if(o){var r=o.tag;if(r===p.Chilli)this.gameManager.onPlayerCollectChilli(),n.node.emit("despawn");else if(r===p.Obstacle){if(this.playerController&&this.playerController.isJumping)return;this.gameManager.onPlayerHitObstacle()}else r===p.Powerup&&(this.gameManager.onPlayerCollectPowerUp(n.node.name),n.node.emit("despawn"))}}},n}(s)).prototype,"gameManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));i._RF.pop()}}}));

System.register("bundle://main/_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts","./Spawner.ts","./CameraShaker.ts","./AudioManager.ts","./PowerupManager.ts"],(function(e){var t,a,i,r,n,o,l,s,p,u,c,h,d,g,f,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,l=e.Label,s=e.Node,p=e.director,u=e.Component,c=e.UIOpacity,h=e.Sprite},function(e){d=e.PlayerController},function(e){g=e.Spawner},function(e){f=e.CameraShaker},function(e){m=e.AudioManager},function(e){y=e.PowerupManager}],execute:function(){var w,S,M,v,b,C,P,L,G,z,I,x,U,k,A,D,E,B,_,N,O,H,R,F;n._RF.push({},"a7d05f7x0ZIu7tsnY3rfx5i","GameManager",void 0);var j=o.ccclass,T=o.property;e("GameManager",(w=j("GameManager"),S=T({type:d}),M=T({type:g}),v=T({type:f}),b=T({type:m}),C=T({type:y}),P=T({type:l}),L=T({type:s}),G=T({type:s}),z=T({type:s}),I=T({type:s}),w(((F=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),o=0;o<a;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"playerController",k,r(t)),i(t,"spawner",A,r(t)),i(t,"cameraShaker",D,r(t)),i(t,"audioManager",E,r(t)),i(t,"powerupManager",B,r(t)),i(t,"scoreLabel",_,r(t)),i(t,"livesContainer",N,r(t)),i(t,"powerupCardSpeed",O,r(t)),i(t,"powerupCardMagnet",H,r(t)),i(t,"powerupCard2x",R,r(t)),t.gameState="start",t.gameSpeed=300,t.score=0,t.lives=3,t.timeElapsed=0,t.chilliesCollectedSinceLastScale=0,t.speedMilestones=0,t}a(t,e);var n=t.prototype;return n.onLoad=function(){null===t.instance?t.instance=this:this.destroy()},n.onDestroy=function(){t.instance===this&&(t.instance=null)},n.start=function(){this.startGame()},n.update=function(e){"playing"===this.gameState&&(this.updateDifficulty(e),this.applyPowerupEffects(),this.spawner&&(this.spawner.gameSpeed=this.gameSpeed),this.updatePowerupUI())},n.startGame=function(){this.gameState="playing",this.score=0,this.lives=3,this.gameSpeed=300,this.timeElapsed=0,this.chilliesCollectedSinceLastScale=0,this.speedMilestones=0,this.updateScoreUI(),this.updateLivesUI(),this.audioManager&&this.audioManager.playBGM()},n.updateDifficulty=function(e){this.timeElapsed+=e;var t=Math.floor(this.timeElapsed/45)+Math.floor(this.chilliesCollectedSinceLastScale/50);if(t>this.speedMilestones){for(var a=t-this.speedMilestones,i=0;i<a;i++)this.gameSpeed*=1.1;this.gameSpeed=Math.min(this.gameSpeed,800),console.log("Difficulty increased! New speed: "+this.gameSpeed),this.speedMilestones=t}},n.applyPowerupEffects=function(){var e,t=this.gameSpeed;null!=(e=this.powerupManager)&&e.isActive("PowerupSpeed")&&(t*=2),this.spawner&&(this.spawner.gameSpeed=t)},n.onPlayerHitObstacle=function(){"playing"===this.gameState&&(this.cameraShaker&&this.cameraShaker.shake(),this.audioManager&&this.audioManager.playHitSfx(),this.lives--,this.updateLivesUI(),console.log("Player hit obstacle! Lives remaining: "+this.lives),this.lives<=0&&this.endGame())},n.onPlayerCollectChilli=function(){"playing"===this.gameState&&(this.audioManager&&this.audioManager.playChilliSfx(),this.score+=1,this.chilliesCollectedSinceLastScale++,this.updateScoreUI())},n.onPlayerCollectPowerUp=function(e){var t;"playing"===this.gameState&&(this.audioManager&&this.audioManager.playPowerupSfx(),null==(t=this.powerupManager)||t.activatePowerup(e))},n.updateScoreUI=function(){this.scoreLabel&&(this.scoreLabel.string=Math.floor(this.score).toString())},n.updateLivesUI=function(){var e=this;this.livesContainer&&this.livesContainer.children.forEach((function(t,a){t.active=a<e.lives}))},n.updatePowerupUI=function(){var e=this;if(this.powerupManager){var t=function(t,a){if(t){var i=e.powerupManager.isActive(a),r=t.getChildByName("ActiveGlow");r?r.active=i:console.error("Could not find 'ActiveGlow' child on card: "+t.name);var n=t.getChildByName("ProgressBar");if(n){console.log(n+i.toString());var o=n.getComponent(c);o&&(console.log(n+i.toString()),o.opacity=i?255:0);var l=n.getComponent(h);l&&(l.fillRange=e.powerupManager.getProgress(a))}}};t(this.powerupCardSpeed,"PowerupSpeed"),t(this.powerupCardMagnet,"PowerupMagnet"),t(this.powerupCard2x,"Powerup2x")}},n.endGame=function(){this.gameState="gameOver",this.audioManager&&this.audioManager.stopBGM(),console.log("Game Over!"),p.loadScene("chilli_dash")},t}(u)).instance=null,k=t((U=F).prototype,"playerController",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(U.prototype,"spawner",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"cameraShaker",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(U.prototype,"audioManager",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(U.prototype,"powerupManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(U.prototype,"scoreLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(U.prototype,"livesContainer",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"powerupCardSpeed",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"powerupCardMagnet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"powerupCard2x",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=U))||x));n._RF.pop()}}}));

System.register("bundle://main/_virtual/LaneRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,o,i,a;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,r=e._decorator,o=e.Graphics,i=e.Color,a=e.Component}],execute:function(){var s;t._RF.push({},"72e5fHwEs9PMLyb6PysBfo7","LaneRenderer",void 0);var c=r.ccclass,u=(r.property,[-120,0,120]),d=1.5,l=.5,h=1.2;e("LaneRenderer",c("LaneRenderer")(s=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var r=t.prototype;return r.start=function(){var e=this.getComponent(o);e?(e.lineWidth=10,e.strokeColor=new i(255,255,255,204),this.drawCurvedLine(0,1,e),this.drawCurvedLine(1,2,e),e.stroke()):console.error("Please add a Graphics component to the LaneRenderer node in the editor.")},r.drawCurvedLine=function(e,n,t){t.moveTo(this.getMidX(e,n,0),0);for(var r=10;r<=960;r+=10){var o=this.getMidX(e,n,r);t.lineTo(o,r)}},r.getMidX=function(e,n,t){var r=this.laneCenterXAtY(e,t);return r+(this.laneCenterXAtY(n,t)-r)/2},r.laneScaleAtY=function(e){var n=Math.min(1,Math.max(0,e/960)),t=Math.pow(n,h);return d+(l-d)*t},r.laneCenterXAtY=function(e,n){return 0+u[e]*this.laneScaleAtY(n)},t}(a))||s);t._RF.pop()}}}));

System.register("bundle://main/_virtual/main",["./AudioManager.ts","./CameraShaker.ts","./CollisionManager.ts","./GameManager.ts","./LaneRenderer.ts","./MovingObject.ts","./PlayerController.ts","./PowerupManager.ts","./Spawner.ts","./Tagger.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("bundle://main/_virtual/MovingObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts"],(function(e){var n,t,i,o,s,r,a,p;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator,o=e.Vec3,s=e.Component},function(e){r=e.GameManager},function(e){a=e.Tagger,p=e.EObjectType}],execute:function(){var c;t._RF.push({},"d54bfknD8ZBO40wVM2DlCPu","MovingObject",void 0);var d=i.ccclass;i.property,e("MovingObject",d("MovingObject")(c=function(e){function t(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).spawner=null,n.speed=200,n.laneIndex=0,n}n(t,e);var i=t.prototype;return i.onLoad=function(){this.node.on("despawn",this.despawn,this)},i.onDestroy=function(){this.node.off("despawn",this.despawn,this)},i.update=function(e){var n,t=r.instance,i=this.getComponent(a);if(t&&i&&i.tag===p.Chilli&&null!=(n=t.powerupManager)&&n.isActive("PowerupMagnet")){var s=t.playerController.node.position,c=this.node.position,d=new o;o.lerp(d,c,s,.1),this.node.setPosition(d)}else{if(!this.spawner||!this.spawner.laneRenderer)return;var l=this.node.getPosition();l.y+=this.speed*e,l.x=this.spawner.laneRenderer.laneCenterXAtY(this.laneIndex,l.y),this.node.setPosition(l)}this.node.position.y>550&&this.despawn()},i.despawn=function(){this.node.parent&&this.spawner&&this.spawner.despawnObject(this.node)},t}(s))||c);t._RF.pop()}}}));

System.register("bundle://main/_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n,e,r,o,a,s,u,p,c,l,h,m,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.SpriteFrame,u=t.Sprite,p=t.input,c=t.Input,l=t.KeyCode,h=t.tween,m=t.Vec3,f=t.Component}],execute:function(){var y,g,v,b,d,w,F,D,R,C,j,z,L;o._RF.push({},"2a1a7s2a5JI3q0b4iW3cWBk","PlayerController",void 0);var T=a.ccclass,_=a.property,M=[-120,0,120];t("PlayerController",(y=T("PlayerController"),g=_({type:s}),v=_({type:s}),b=_({type:s}),y((F=i((w=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,e(i,"moveDuration",F,r(i)),e(i,"jumpHeight",D,r(i)),e(i,"jumpDuration",R,r(i)),e(i,"runFrame1",C,r(i)),e(i,"runFrame2",j,r(i)),e(i,"jumpFrame",z,r(i)),e(i,"animationInterval",L,r(i)),i.isJumping=!1,i.currentLane=1,i.isMoving=!1,i.startY=0,i.animationTimer=0,i.currentRunFrame=0,i.spriteComponent=null,i}n(i,t);var o=i.prototype;return o.onLoad=function(){this.startY=this.node.position.y,this.spriteComponent=this.getComponent(u)},o.start=function(){p.on(c.EventType.KEY_DOWN,this.onKeyDown,this)},o.onDestroy=function(){p.off(c.EventType.KEY_DOWN,this.onKeyDown,this)},o.onKeyDown=function(t){if(!this.isJumping&&!this.isMoving)switch(t.keyCode){case l.KEY_A:case l.ARROW_LEFT:this.moveLeft();break;case l.KEY_D:case l.ARROW_RIGHT:this.moveRight();break;case l.KEY_W:case l.ARROW_UP:case l.SPACE:this.jump()}},o.update=function(t){this.handleAnimation(t)},o.handleAnimation=function(t){this.spriteComponent&&(this.isJumping?this.spriteComponent.spriteFrame=this.jumpFrame:(this.animationTimer+=t,this.animationTimer>=this.animationInterval&&(this.animationTimer=0,this.currentRunFrame=1-this.currentRunFrame,this.spriteComponent.spriteFrame=0===this.currentRunFrame?this.runFrame1:this.runFrame2)))},o.moveLeft=function(){this.isMoving||0===this.currentLane||(this.currentLane--,this.startMoveTween())},o.moveRight=function(){this.isMoving||2===this.currentLane||(this.currentLane++,this.startMoveTween())},o.jump=function(){var t=this;this.isJumping||(this.isJumping=!0,h(this.node).to(this.jumpDuration/2,{position:new m(this.node.position.x,this.startY+this.jumpHeight,this.node.position.z)},{easing:"cubicOut"}).to(this.jumpDuration/2,{position:new m(this.node.position.x,this.startY,this.node.position.z)},{easing:"cubicIn"}).call((function(){t.isJumping=!1})).start())},o.startMoveTween=function(){var t=this;this.isMoving=!0;var i=M[this.currentLane];h(this.node).to(this.moveDuration,{position:new m(i,this.node.position.y,this.node.position.z)}).call((function(){t.isMoving=!1})).start()},i}(f)).prototype,"moveDuration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),D=i(w.prototype,"jumpHeight",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),R=i(w.prototype,"jumpDuration",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),C=i(w.prototype,"runFrame1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(w.prototype,"runFrame2",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(w.prototype,"jumpFrame",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(w.prototype,"animationInterval",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),d=w))||d));o._RF.pop()}}}));

System.register("bundle://main/_virtual/PowerupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,a,n;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,a=e._decorator,n=e.Component}],execute:function(){var i;o._RF.push({},"83ee1Ev2+1KPZIEE1XhME6H","PowerupManager",void 0);var u=a.ccclass,c=(a.property,{PowerupSpeed:{duration:5},PowerupMagnet:{duration:8},Powerup2x:{duration:10}});e("PowerupManager",u("PowerupManager")(i=function(e){function o(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).activePowerups=new Map,t}t(o,e);var a=o.prototype;return a.update=function(e){for(var t,o=r(this.activePowerups.entries());!(t=o()).done;){var a=t.value,n=a[0],i=a[1];i.timeLeft-=e,i.timeLeft<=0&&this.activePowerups.delete(n)}},a.activatePowerup=function(e){var t=c[e];t&&this.activePowerups.set(e,{key:e,duration:t.duration,timeLeft:t.duration})},a.isActive=function(e){return this.activePowerups.has(e)},a.getProgress=function(e){var t=this.activePowerups.get(e);return t?t.timeLeft/t.duration:0},o}(n))||i);o._RF.pop()}}}));

System.register("bundle://main/_virtual/rollupPluginModLoBabelHelpers.js",[],(function(e){return{execute:function(){function r(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function t(r,i){return(t=e("setPrototypeOf",Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e}))(r,i)}function i(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function o(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}function a(e){var r=o(e,"string");return"symbol"==typeof r?r:String(r)}e({applyDecoratedDescriptor:function(e,r,t,i,n){var o={};Object.keys(i).forEach((function(e){o[e]=i[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0);o=t.slice().reverse().reduce((function(t,i){return i(e,r,t)||t}),o),n&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(n):void 0,o.initializer=void 0);void 0===o.initializer&&(Object.defineProperty(e,r,o),o=null);return o},arrayLikeToArray:n,assertThisInitialized:function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},createClass:function(e,t,i){t&&r(e.prototype,t);i&&r(e,i);return Object.defineProperty(e,"prototype",{writable:!1}),e},createForOfIteratorHelperLoose:function(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=i(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},inheritsLoose:function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,t(e,r)},initializerDefineProperty:function(e,r,t,i){if(!t)return;Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(i):void 0})},setPrototypeOf:t,toPrimitive:o,toPropertyKey:a,unsupportedIterableToArray:i})}}}));

System.register("bundle://main/_virtual/Spawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingObject.ts","./LaneRenderer.ts"],(function(e){var t,o,r,i,a,n,s,l,p,h,u,P,f,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){n=e.cclegacy,s=e._decorator,l=e.Prefab,p=e.NodePool,h=e.instantiate,u=e.random,P=e.randomRangeInt,f=e.Component},function(e){b=e.MovingObject},function(e){w=e.LaneRenderer}],execute:function(){var c,d,g,m,v,y,S,M,x,O,R,z,j,C,I,L,T,_,D;n._RF.push({},"45d98V1a/tA9rNM9l3y6vvd","Spawner",void 0);var A=s.ccclass,F=s.property,N=[-120,0,120];e("Spawner",(c=A("Spawner"),d=F({type:w}),g=F({type:l}),m=F({type:l}),v=F({type:l}),y=F({type:l}),S=F({type:l}),M=F({type:l}),x=F({type:l}),c((z=t((R=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,r(t,"laneRenderer",z,i(t)),r(t,"chilliPrefab",j,i(t)),r(t,"cratePrefab",C,i(t)),r(t,"flowerPrefab",I,i(t)),r(t,"grassPrefab",L,i(t)),r(t,"powerupSpeedPrefab",T,i(t)),r(t,"powerupMagnetPrefab",_,i(t)),r(t,"powerup2xPrefab",D,i(t)),t.gameSpeed=400,t.chilliPool=new p,t.cratePool=new p,t.flowerPool=new p,t.grassPool=new p,t.powerupSpeedPool=new p,t.powerupMagnetPool=new p,t.powerup2xPool=new p,t.pools=new Map,t.powerupPools=[],t.powerupPrefabs=[],t.obstaclePools=[],t.obstaclePrefabs=[],t.spawnTimer=0,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.initPool(this.chilliPool,this.chilliPrefab,20),this.initPool(this.cratePool,this.cratePrefab,10),this.initPool(this.flowerPool,this.flowerPrefab,5),this.initPool(this.grassPool,this.grassPrefab,5),this.initPool(this.powerupSpeedPool,this.powerupSpeedPrefab,2),this.initPool(this.powerupMagnetPool,this.powerupMagnetPrefab,2),this.initPool(this.powerup2xPool,this.powerup2xPrefab,2),this.chilliPrefab&&this.pools.set(this.chilliPrefab.name,this.chilliPool),this.cratePrefab&&this.pools.set(this.cratePrefab.name,this.cratePool),this.flowerPrefab&&this.pools.set(this.flowerPrefab.name,this.flowerPool),this.grassPrefab&&this.pools.set(this.grassPrefab.name,this.grassPool),this.powerupSpeedPrefab&&this.pools.set(this.powerupSpeedPrefab.name,this.powerupSpeedPool),this.powerupMagnetPrefab&&this.pools.set(this.powerupMagnetPrefab.name,this.powerupMagnetPool),this.powerup2xPrefab&&this.pools.set(this.powerup2xPrefab.name,this.powerup2xPool),this.powerupPools=[this.powerupSpeedPool,this.powerupMagnetPool,this.powerup2xPool],this.powerupPrefabs=[this.powerupSpeedPrefab,this.powerupMagnetPrefab,this.powerup2xPrefab],this.obstaclePools=[this.cratePool,this.grassPool,this.flowerPool],this.obstaclePrefabs=[this.cratePrefab,this.grassPrefab,this.flowerPrefab]},n.initPool=function(e,t,o){if(t)for(var r=0;r<o;r++){var i=h(t);e.put(i)}},n.update=function(e){if(this.spawnTimer+=e,this.spawnTimer>=this.spawnInterval){this.spawnTimer=0;var t=u();t<.2?this.spawnRandomPowerUp():t<.5&&t>.2?this.spawnObstaclePattern():this.spawnChilliPattern()}},n.spawnRandomPowerUp=function(){var e=P(0,this.powerupPools.length),t=P(0,3);this.spawnObject(this.powerupPools[e],this.powerupPrefabs[e],t)},n.spawnObstaclePattern=function(){var e=P(0,3);this.spawnRandomObstacle(e);var t=this.gameSpeed/1200;if(u()<t){var o;do{o=P(0,3)}while(o===e);this.spawnRandomObstacle(o)}},n.spawnRandomObstacle=function(e){var t=P(0,this.obstaclePools.length);this.spawnObject(this.obstaclePools[t],this.obstaclePrefabs[t],e)},n.spawnChilliPattern=function(){for(var e=P(1,4),t=new Set,o=0;o<e;o++){var r=void 0;do{r=P(0,3)}while(t.has(r));t.add(r),this.spawnObject(this.chilliPool,this.chilliPrefab,r)}},n.spawnObject=function(e,t,o){if(t){var r=e.size()>0?e.get():h(t);if(r){var i=r.getComponent(b);i&&(i.spawner=this,i.speed=this.gameSpeed,i.laneIndex=o),r.setPosition(N[o],-550,0),this.node.addChild(r)}}},n.despawnObject=function(e){var t=this.pools.get(e.name);t?t.put(e):e.destroy()},a(t,[{key:"spawnInterval",get:function(){return 50/this.gameSpeed*2}}]),t}(f)).prototype,"laneRenderer",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(R.prototype,"chilliPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(R.prototype,"cratePrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(R.prototype,"flowerPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(R.prototype,"grassPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(R.prototype,"powerupSpeedPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(R.prototype,"powerupMagnetPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(R.prototype,"powerup2xPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=R))||O));n._RF.pop()}}}));

System.register("bundle://main/_virtual/Tagger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,i,o,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Enum,l=e.Component}],execute:function(){var u,p,s,g,f;o._RF.push({},"def5db2VCdHRpzCdcJYttKF","Tagger",void 0);var d=a.ccclass,y=a.property,b=e("EObjectType",function(e){return e[e.None=0]="None",e[e.Chilli=1]="Chilli",e[e.Obstacle=2]="Obstacle",e[e.Powerup=3]="Powerup",e}({}));c(b);e("Tagger",(u=d("Tagger"),p=y({type:b}),u((f=r((g=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,n(r,"tag",f,i(r)),r}return t(r,e),r}(l)).prototype,"tag",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.None}}),s=g))||s));o._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'bundle://main/_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});