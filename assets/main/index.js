System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,l,u,n,c,s,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){l=t.cclegacy,u=t._decorator,n=t.AudioClip,c=t.AudioSource,s=t.sys,a=t.Component}],execute:function(){var p,h,f,S,b,g,m,y,d,x,M,w,v;l._RF.push({},"0aec0++ls5MhJLpniF71b5j","AudioManager",void 0);var C=u.ccclass,O=u.property;t("AudioManager",(p=C("AudioManager"),h=O({type:n}),f=O({type:n}),S=O({type:n}),b=O({type:n}),g=O({type:n}),p((d=e((y=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),u=0;u<i;u++)l[u]=arguments[u];return e=t.call.apply(t,[this].concat(l))||this,o(e,"bgm",d,r(e)),o(e,"collectChilliSfx",x,r(e)),o(e,"collectPowerupSfx",M,r(e)),o(e,"hitObstacleSfx",w,r(e)),o(e,"failSfx",v,r(e)),e.bgmSource=null,e.isMuted=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.bgmSource=this.getComponent(c);var t=s.localStorage.getItem("user_is_muted");this.isMuted="true"===t,this.applyMuteState()},l.toggleMute=function(){return this.isMuted=!this.isMuted,s.localStorage.setItem("user_is_muted",this.isMuted.toString()),this.applyMuteState(),this.isMuted},l.applyMuteState=function(){this.bgmSource&&(this.bgmSource.volume=this.isMuted?0:1)},l.isCurrentlyMuted=function(){return this.isMuted},l.playBGM=function(){this.bgmSource&&this.bgm&&(this.bgmSource.clip=this.bgm,this.bgmSource.loop=!0,this.bgmSource.play())},l.stopBGM=function(){this.bgmSource&&this.bgmSource.stop()},l.playChilliSfx=function(){this.collectChilliSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectChilliSfx,.25)},l.playPowerupSfx=function(){this.collectPowerupSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.collectPowerupSfx,.25)},l.playHitSfx=function(){this.hitObstacleSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.hitObstacleSfx,.25)},l.playJumpSfx=function(){this.failSfx&&this.bgmSource&&this.bgmSource.playOneShot(this.failSfx,.25)},e}(a)).prototype,"bgm",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(y.prototype,"collectChilliSfx",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(y.prototype,"collectPowerupSfx",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(y.prototype,"hitObstacleSfx",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(y.prototype,"failSfx",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=y))||m));l._RF.pop()}}}));

System.register("chunks:///_virtual/CameraShaker.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,n,s,e,o,a,r,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,s=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,r=i.Vec3,h=i.tween,l=i.Component}],execute:function(){var u,c,p,k;o._RF.push({},"5fff3BMAx5MBbsr24JX9uBT","CameraShaker",void 0);var g=a.ccclass,y=a.property;i("CameraShaker",g("CameraShaker")((p=t((c=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,s(t,"shakeDuration",p,e(t)),s(t,"shakeIntensity",k,e(t)),t.originalPos=new r,t.isShaking=!1,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.originalPos.set(this.node.position)},o.shake=function(){var i=this;this.isShaking||(this.isShaking=!0,h(this.node).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity,this.originalPos.y+this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x-this.shakeIntensity,this.originalPos.y-this.shakeIntensity,this.originalPos.z)}).to(this.shakeDuration/4,{position:new r(this.originalPos.x+this.shakeIntensity/2,this.originalPos.y,this.originalPos.z)}).to(this.shakeDuration/4,{position:this.originalPos}).call((function(){i.isShaking=!1})).start())},t}(l)).prototype,"shakeDuration",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),k=t(c.prototype,"shakeIntensity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),u=c))||u);o._RF.pop()}}}));

System.register("chunks:///_virtual/CollisionManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts","./PlayerController.ts"],(function(e){var n,o,t,r,i,a,l,s,c,g,p,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,l=e.BoxCollider2D,s=e.Component},function(e){c=e.GameManager},function(e){g=e.Tagger,p=e.EObjectType},function(e){u=e.PlayerController}],execute:function(){var C,f,h,y,m;i._RF.push({},"1a90efcvMdNnJRyl3lHNVgJ","CollisionManager",void 0);var d=a.ccclass,M=a.property;e("CollisionManager",(C=d("CollisionManager"),f=M({type:c}),C((m=n((y=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,t(n,"gameManager",m,r(n)),n.playerController=null,n}o(n,e);var i=n.prototype;return i.start=function(){this.playerController=this.getComponent(u);var e=this.getComponent(l);e?(e.on("begin-contact",this.onBeginContact,this),console.log("Collision listener registered on Player.")):console.error("Player is missing its BoxCollider2D component!")},i.onDestroy=function(){var e=this.getComponent(l);e&&e.off("begin-contact",this.onBeginContact,this)},i.onBeginContact=function(e,n,o){if(this.gameManager){var t=n.getComponent(g);if(t){var r=t.tag;n.node.getWorldPosition();if(r===p.Chilli)this.gameManager.onPlayerCollectChilli(),n.node.emit("despawn");else if(r===p.Obstacle){if(this.playerController&&this.playerController.isJumping)return;this.gameManager.onPlayerHitObstacle()}else r!==p.PowerupSpeed&&r!==p.PowerupMagnet&&r!==p.Powerup2x&&r!==p.PowerupShield||(this.gameManager.onPlayerCollectPowerUp(r),n.node.emit("despawn"))}}},n}(s)).prototype,"gameManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));i._RF.pop()}}}));

System.register("chunks:///_virtual/EnvironmentManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts"],(function(e){var t,i,r,n,l,a,u,p,o,S;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,u=e.Sprite,p=e.SpriteFrame,o=e.Component},function(e){S=e.EObjectType}],execute:function(){var s,f,h,d,y,b,c,g,L,m,w,k,z,R,G,v,X,F,M,P,E,_,q,D,T,j,x,H,A,B,C,I,J,K,N,O,V,Q,U,W,Y,Z,$,ee,te,ie,re,ne,le,ae,ue;l._RF.push({},"72e58bcikpKHqgphmnJqq41","EnvironmentManager",void 0);var pe=a.ccclass,oe=a.property;e("EnvironmentManager",(s=pe("EnvironmentManager"),f=oe({type:u}),h=oe({type:u}),d=oe({type:u}),y=oe({type:u}),b=oe({type:p}),c=oe({type:p}),g=oe({type:p}),L=oe({type:p}),m=oe({type:p}),w=oe({type:p}),k=oe({type:p}),z=oe({type:p}),R=oe({type:p}),G=oe({type:p}),v=oe({type:p}),X=oe({type:p}),F=oe({type:p}),M=oe({type:p}),P=oe({type:p}),E=oe({type:p}),_=oe({type:p}),q=oe({type:p}),D=oe({type:p}),T=oe({type:p}),s((H=t((x=function(e){function t(){for(var t,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(t,"skySprite",H,n(t)),r(t,"groundSprite",A,n(t)),r(t,"leftLaneSprite",B,n(t)),r(t,"rightLaneSprite",C,n(t)),r(t,"defaultSkySprite",I,n(t)),r(t,"speedSkySprite",J,n(t)),r(t,"magnetSkySprite",K,n(t)),r(t,"twoXSkySprite",N,n(t)),r(t,"shieldSkySprite",O,n(t)),r(t,"defaultGroundSprite",V,n(t)),r(t,"speedGroundSprite",Q,n(t)),r(t,"magnetGroundSprite",U,n(t)),r(t,"twoXGroundSprite",W,n(t)),r(t,"shieldGroundSprite",Y,n(t)),r(t,"defaultLaneSprite",Z,n(t)),r(t,"speedLaneSprite",$,n(t)),r(t,"magnetLaneSprite",ee,n(t)),r(t,"twoXLaneSprite",te,n(t)),r(t,"shieldLaneSprite",ie,n(t)),r(t,"defaultRightLaneSprite",re,n(t)),r(t,"speedRightLaneSprite",ne,n(t)),r(t,"magnetRightLaneSprite",le,n(t)),r(t,"twoXRightLaneSprite",ae,n(t)),r(t,"shieldRightLaneSprite",ue,n(t)),t}return i(t,e),t.prototype.updateVisuals=function(e){var t,i,r,n,l,a,u,p,o,s,f,h,d,y,b,c;void 0===e&&(e=S.None);var g=this.defaultSkySprite,L=this.defaultGroundSprite,m=this.defaultLaneSprite,w=this.defaultLaneSprite;switch(e){case S.PowerupSpeed:g=null!=(t=this.speedSkySprite)?t:this.defaultSkySprite,L=null!=(i=this.speedGroundSprite)?i:this.defaultGroundSprite,m=null!=(r=this.speedLaneSprite)?r:this.defaultLaneSprite,w=null!=(n=this.speedRightLaneSprite)?n:this.defaultRightLaneSprite;break;case S.PowerupMagnet:g=null!=(l=this.magnetSkySprite)?l:this.defaultSkySprite,L=null!=(a=this.magnetGroundSprite)?a:this.defaultGroundSprite,m=null!=(u=this.magnetLaneSprite)?u:this.defaultLaneSprite,w=null!=(p=this.magnetRightLaneSprite)?p:this.defaultRightLaneSprite;break;case S.Powerup2x:g=null!=(o=this.twoXSkySprite)?o:this.defaultSkySprite,L=null!=(s=this.twoXGroundSprite)?s:this.defaultGroundSprite,m=null!=(f=this.twoXLaneSprite)?f:this.defaultLaneSprite,w=null!=(h=this.twoXRightLaneSprite)?h:this.defaultRightLaneSprite;break;case S.PowerupShield:g=null!=(d=this.shieldSkySprite)?d:this.defaultSkySprite,L=null!=(y=this.shieldGroundSprite)?y:this.defaultGroundSprite,m=null!=(b=this.shieldLaneSprite)?b:this.defaultLaneSprite,w=null!=(c=this.shieldRightLaneSprite)?c:this.defaultRightLaneSprite;break;default:g=this.speedSkySprite,L=this.defaultGroundSprite,m=this.defaultLaneSprite,w=this.defaultRightLaneSprite}this.skySprite&&g&&(this.skySprite.spriteFrame=g),this.groundSprite&&L&&(this.groundSprite.spriteFrame=L),this.leftLaneSprite&&m&&(this.leftLaneSprite.spriteFrame=m),this.rightLaneSprite&&m&&(this.rightLaneSprite.spriteFrame=w)},t}(o)).prototype,"skySprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"groundSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"leftLaneSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(x.prototype,"rightLaneSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"defaultSkySprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=t(x.prototype,"speedSkySprite",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(x.prototype,"magnetSkySprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(x.prototype,"twoXSkySprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"shieldSkySprite",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(x.prototype,"defaultGroundSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(x.prototype,"speedGroundSprite",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(x.prototype,"magnetGroundSprite",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(x.prototype,"twoXGroundSprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(x.prototype,"shieldGroundSprite",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(x.prototype,"defaultLaneSprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(x.prototype,"speedLaneSprite",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(x.prototype,"magnetLaneSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(x.prototype,"twoXLaneSprite",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(x.prototype,"shieldLaneSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=t(x.prototype,"defaultRightLaneSprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(x.prototype,"speedRightLaneSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(x.prototype,"magnetRightLaneSprite",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=t(x.prototype,"twoXRightLaneSprite",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=t(x.prototype,"shieldRightLaneSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=x))||j));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationManager.ts","./PlayerController.ts","./Spawner.ts","./CameraShaker.ts","./AudioManager.ts","./PowerupManager.ts","./Tagger.ts","./VFXManager.ts","./EnvironmentManager.ts","./PlayerVFX.ts"],(function(e){var t,i,n,a,o,r,l,u,s,c,p,h,g,d,y,f,b,m,w,v,C,M,P,S,I,U,B,L,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator,l=e.Node,u=e.Label,s=e.Button,c=e.Sprite,p=e.SpriteFrame,h=e.Color,g=e.UIOpacity,d=e.UITransform,y=e.v3,f=e.tween,b=e.director,m=e.Component},function(e){w=e.languageChangeEvent,v=e.LocalizationManager},function(e){C=e.PlayerController},function(e){M=e.Spawner},function(e){P=e.CameraShaker},function(e){S=e.AudioManager},function(e){I=e.PowerupManager},function(e){U=e.EObjectType},function(e){B=e.VFXManager},function(e){L=e.EnvironmentManager},function(e){T=e.PlayerVFX}],execute:function(){var z,G,x,D,k,F,O,E,A,V,X,H,N,_,R,j,Y,Z,q,J,K,Q,W,$,ee,te,ie,ne,ae,oe,re,le,ue,se,ce,pe,he,ge,de,ye,fe,be,me,we,ve,Ce,Me,Pe,Se,Ie,Ue,Be,Le,Te,ze,Ge,xe,De,ke,Fe,Oe,Ee,Ae,Ve;o._RF.push({},"a7d05f7x0ZIu7tsnY3rfx5i","GameManager",void 0);var Xe=r.ccclass,He=r.property,Ne=300,_e=[50,100,150,200,250,300],Re=[5,10,15,20,25,30];e("GameManager",(z=Xe("GameManager"),G=He({type:C}),x=He({type:M}),D=He({type:P}),k=He({type:S}),F=He({type:I}),O=He({type:B}),E=He({type:L}),A=He({type:T}),V=He({type:l}),X=He({type:l}),H=He({type:l}),N=He({type:l}),_=He({type:l}),R=He({type:l}),j=He({type:u}),Y=He({type:u}),Z=He({type:l}),q=He({type:s}),J=He({type:c}),K=He({type:[p]}),Q=He({type:s}),W=He({type:s}),$=He({type:l}),ee=He({type:l}),te=He({type:l}),ie=He({type:l}),ne=He({type:l}),ae=He({type:u}),oe=He({type:u}),re=He({type:s}),z(((Ve=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).currentGameSpeed=Ne,n(t,"playerController",se,a(t)),n(t,"spawner",ce,a(t)),n(t,"cameraShaker",pe,a(t)),n(t,"audioManager",he,a(t)),n(t,"powerupManager",ge,a(t)),n(t,"vfxManager",de,a(t)),n(t,"environmentManager",ye,a(t)),n(t,"playerVFX",fe,a(t)),n(t,"startMenu",be,a(t)),n(t,"howToPlayUI",me,a(t)),n(t,"howToPlayUIPage01",we,a(t)),n(t,"howToPlayUIPage02",ve,a(t)),n(t,"gameOverMenu",Ce,a(t)),n(t,"inGameUI",Me,a(t)),n(t,"finalScoreLabel",Pe,a(t)),n(t,"scoreLabel",Se,a(t)),n(t,"livesContainer",Ie,a(t)),n(t,"muteButton",Ue,a(t)),n(t,"muteButtonSprite",Be,a(t)),n(t,"muteButtonIcons",Le,a(t)),n(t,"englishButton",Te,a(t)),n(t,"arabicButton",ze,a(t)),n(t,"powerupCardSpeed",Ge,a(t)),n(t,"powerupCardMagnet",xe,a(t)),n(t,"powerupCard2x",De,a(t)),n(t,"powerupCardShield",ke,a(t)),n(t,"bonusCard",Fe,a(t)),n(t,"discountLabel",Oe,a(t)),n(t,"discountCodeLabel",Ee,a(t)),n(t,"copyCodeButton",Ae,a(t)),t.gameState="menu",t.gameSpeed=Ne,t.score=0,t.lives=3,t.timeElapsed=0,t.chilliesCollectedSinceLastScale=0,t.speedMilestones=0,t.currentDiscountCode="",t.baseGameSpeed=Ne,t.collectedPowerupTypes=new Set,t}i(t,e);var o=t.prototype;return o.onLoad=function(){null===t.instance?t.instance=this:this.destroy()},o.onDestroy=function(){t.instance===this&&(t.instance=null),w.off("language-changed",this.updateLanguageButtonUIColor,this)},o.start=function(){this.setupMuteButton(),this.setupLanguageButtons(),this.setupCopyCodeButton(),w.on("language-changed",this.updateLanguageButtonUIColor,this),this.updateLanguageButtonUIColor(),this.gameState="menu",this.startMenu&&(this.startMenu.active=!0),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!1)},o.update=function(e){var t,i,n;if("playing"===this.gameState){var a=null!=(t=null==(i=this.powerupManager)?void 0:i.getDominantActivePowerup())?t:U.None;null==(n=this.environmentManager)||n.updateVisuals(a),this.updatePowerupUI(),this.updateDifficulty(e),this.currentGameSpeed=this.calculateCurrentSpeed()}},o.setupMuteButton=function(){var e=this;this.muteButton&&this.audioManager&&(this.updateMuteButtonLabel(),this.muteButton.node.on("click",(function(){e.audioManager.toggleMute(),e.updateMuteButtonLabel()}),this))},o.updateMuteButtonLabel=function(){if(this.muteButtonSprite&&this.audioManager){var e=this.audioManager.isCurrentlyMuted();this.muteButtonSprite.spriteFrame=e?this.muteButtonIcons[0]:this.muteButtonIcons[1]}},o.setupLanguageButtons=function(){this.englishButton&&this.englishButton.node.on("click",(function(){v.instance.setLanguage("en")}),this),this.arabicButton&&this.arabicButton.node.on("click",(function(){v.instance.setLanguage("ar")}),this)},o.updateLanguageButtonUIColor=function(){if(v.instance){var e=v.instance.getCurrentLanguage(),t=new h(255,200,0),i=new h(128,128,128),n=function(e){return e?e.getComponentInChildren(u):null},a=n(this.englishButton);a&&(a.color="en"===e?t:i);var o=n(this.arabicButton);o&&(o.color="ar"===e?t:i)}},o.howToPlay=function(){this.startMenu&&(this.startMenu.active=!1),this.howToPlayUI&&(this.howToPlayUI.active=!0),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!1),this.showHowToPlayPage1()},o.startGame=function(){this.gameState="playing",this.startMenu&&(this.startMenu.active=!1),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.gameOverMenu&&(this.gameOverMenu.active=!1),this.inGameUI&&(this.inGameUI.active=!0),this.baseGameSpeed=Ne,this.score=0,this.lives=3,this.gameSpeed=Ne,this.timeElapsed=0,this.chilliesCollectedSinceLastScale=0,this.speedMilestones=0,this.collectedPowerupTypes.clear(),this.updateScoreUI(),this.updateLivesUI(),this.audioManager&&this.audioManager.playBGM()},o.updateDifficulty=function(e){this.timeElapsed+=e;var t=Math.floor(this.timeElapsed/40)+Math.floor(this.chilliesCollectedSinceLastScale/50);if(t>this.speedMilestones){for(var i=t-this.speedMilestones,n=0;n<i;n++)this.baseGameSpeed*=1.1;this.baseGameSpeed=Math.min(this.baseGameSpeed,800),console.log("Difficulty increased! New speed: "+this.baseGameSpeed),this.speedMilestones=t}},o.calculateCurrentSpeed=function(){var e,t=this.baseGameSpeed;return null!=(e=this.powerupManager)&&e.isActive(U.PowerupSpeed)&&(t*=2),t},o.onPlayerHitObstacle=function(){var e,t;"playing"===this.gameState&&(null!=(e=this.powerupManager)&&e.isActive(U.PowerupShield)?console.log("Shield blocked hit!"):(this.audioManager&&this.audioManager.playHitSfx(),null==(t=this.vfxManager)||t.playHitEffect(),this.cameraShaker&&this.cameraShaker.shake(),this.lives--,this.updateLivesUI(),this.lives<=0&&this.endGame()))},o.onPlayerCollectChilli=function(){var e;if("playing"===this.gameState){this.audioManager&&this.audioManager.playChilliSfx();var t=null!=(e=this.powerupManager)&&e.isActive(U.Powerup2x)?2:1;this.score+=1*t,this.chilliesCollectedSinceLastScale++,this.updateScoreUI(),this.playerVFX&&this.powerupManager&&this.playerVFX.playVFX(this.powerupManager.getDominantActivePowerup())}},o.onPlayerCollectPowerUp=function(e){var t,i;"playing"===this.gameState&&(null==(t=this.vfxManager)||t.playCollectEffect(),this.audioManager&&this.audioManager.playPowerupSfx(),null==(i=this.powerupManager)||i.activatePowerup(e),this.collectedPowerupTypes.add(e),console.log("Collected types: "+this.collectedPowerupTypes.size+" / 4"),4===this.collectedPowerupTypes.size&&(this.score+=50,this.collectedPowerupTypes.clear(),this.animateBonusUI(),this.updateScoreUI(),console.log("All power-ups collected! +50 points!")),this.playerVFX&&this.powerupManager&&this.playerVFX.playVFX(this.powerupManager.getDominantActivePowerup()))},o.animateBonusUI=function(){var e=this;if(this.bonusCard){var t=this.bonusCard.getComponent(g),i=this.bonusCard.getComponent(d);if(t&&i){var n=y(0,0,0),a=y(150,320,0),o=y(0,0,0),r=y(1.5,1.5,1.5);this.bonusCard.active=!0,this.bonusCard.setPosition(n),this.bonusCard.setScale(o),t.opacity=0,i.priority=1001,f(this.bonusCard).parallel(f().to(.5,{scale:r},{easing:"cubicOut"}),f(t).to(.5,{opacity:255},{easing:"cubicOut"})).delay(1).then(f(this.bonusCard).parallel(f(t).to(.5,{opacity:0},{easing:"cubicIn"}),f().to(.5,{position:a},{easing:"cubicIn"}))).call((function(){e.bonusCard.setScale(o)})).start()}else console.error("Bonus Card is missing UIOpacity or UITransform component!")}else console.error("Bonus Card node is not assigned in the GameManager!")},o.updateScoreUI=function(){this.scoreLabel&&(this.scoreLabel.string=Math.floor(this.score).toString())},o.updateLivesUI=function(){var e=this;this.livesContainer&&this.livesContainer.children.forEach((function(t,i){t.active=i<e.lives}))},o.updatePowerupUI=function(){var e=this;if(this.powerupManager){var t=function(t,i){if(t){var n=e.powerupManager.isActive(i),a=t.getChildByName("ActiveGlow");a&&(a.active=n);var o=t.getChildByName("ProgressBar");if(o){var r=o.getComponent(g);r&&(console.log(o+n.toString()),r.opacity=n?255:0);var l=o.getComponent(c);l&&(l.fillRange=e.powerupManager.getProgress(i))}}};t(this.powerupCardSpeed,U.PowerupSpeed),t(this.powerupCardMagnet,U.PowerupMagnet),t(this.powerupCard2x,U.Powerup2x),t(this.powerupCardShield,U.PowerupShield)}},o.calculateDiscount=function(e){for(var t=5,i=0;i<_e.length;i++)e>=_e[i]&&(t=Re[i]);return t},o.endGame=function(){this.gameState="gameOver",this.audioManager&&this.audioManager.stopBGM(),console.log("Game Over!");var e=this.calculateDiscount(this.score);if(Math.floor(this.score),Date.now().toString().slice(-6),this.discountLabel){var t=e.toString();this.discountLabel.string="HH#"+t+"%"}this.currentDiscountCode=this.discountLabel.string,this.discountCodeLabel&&(this.discountCodeLabel.string=this.currentDiscountCode),this.gameOverMenu&&(this.gameOverMenu.active=!0),this.howToPlayUI&&(this.howToPlayUI.active=!1),this.inGameUI&&(this.inGameUI.active=!1),this.finalScoreLabel&&(this.finalScoreLabel.string=Math.floor(this.score).toString())},o.copyDiscountCode=function(){var e=this;this.currentDiscountCode&&(navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(this.currentDiscountCode).then((function(){e.showCopiedFeedback()})).catch((function(t){console.error("Modern clipboard write failed: ",t),e.copyUsingExecCommand()})):(console.warn("Clipboard API not available, trying fallback."),this.copyUsingExecCommand()))},o.copyUsingExecCommand=function(){try{var e=document.createElement("textarea");e.value=this.currentDiscountCode,e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="2em",e.style.height="2em",e.style.padding="0",e.style.border="none",e.style.outline="none",e.style.boxShadow="none",e.style.background="transparent",document.body.appendChild(e),e.focus(),e.select();var t=document.execCommand("copy");document.body.removeChild(e),t?this.showCopiedFeedback():console.error("Fallback copy command failed.")}catch(e){console.error("Error during fallback copy: ",e)}},o.showCopiedFeedback=function(){if(console.log("Discount code copied to clipboard!"),this.copyCodeButton){var e=this.copyCodeButton.getComponentInChildren(u);if(e){var t=e.string;e.string="en"===v.instance.getCurrentLanguage()?"COPIED!":"تم النسخ!",this.unscheduleAllCallbacks(),this.scheduleOnce((function(){e.string=t}),1.5)}}},o.setupCopyCodeButton=function(){this.copyCodeButton&&this.copyCodeButton.node.on("click",this.copyDiscountCode,this)},o.restartGame=function(){b.loadScene("hunter_dash")},o.showHowToPlayPage1=function(){this.howToPlayUIPage01&&(this.howToPlayUIPage01.active=!0),this.howToPlayUIPage02&&(this.howToPlayUIPage02.active=!1)},o.showHowToPlayPage2=function(){this.howToPlayUIPage01&&(this.howToPlayUIPage01.active=!1),this.howToPlayUIPage02&&(this.howToPlayUIPage02.active=!0)},t}(m)).instance=null,se=t((ue=Ve).prototype,"playerController",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(ue.prototype,"spawner",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(ue.prototype,"cameraShaker",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(ue.prototype,"audioManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(ue.prototype,"powerupManager",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=t(ue.prototype,"vfxManager",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(ue.prototype,"environmentManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(ue.prototype,"playerVFX",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(ue.prototype,"startMenu",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(ue.prototype,"howToPlayUI",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(ue.prototype,"howToPlayUIPage01",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(ue.prototype,"howToPlayUIPage02",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=t(ue.prototype,"gameOverMenu",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=t(ue.prototype,"inGameUI",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(ue.prototype,"finalScoreLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(ue.prototype,"scoreLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=t(ue.prototype,"livesContainer",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=t(ue.prototype,"muteButton",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(ue.prototype,"muteButtonSprite",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=t(ue.prototype,"muteButtonIcons",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Te=t(ue.prototype,"englishButton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=t(ue.prototype,"arabicButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=t(ue.prototype,"powerupCardSpeed",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=t(ue.prototype,"powerupCardMagnet",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=t(ue.prototype,"powerupCard2x",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(ue.prototype,"powerupCardShield",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=t(ue.prototype,"bonusCard",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=t(ue.prototype,"discountLabel",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=t(ue.prototype,"discountCodeLabel",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=t(ue.prototype,"copyCodeButton",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=ue))||le));o._RF.pop()}}}));

System.register("chunks:///_virtual/InputManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerController.ts"],(function(t){var e,o,n,r,i,l,a,s,h,u,p,c,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Node,s=t.Vec2,h=t.input,u=t.Input,p=t.KeyCode,c=t.Component},function(t){y=t.PlayerController}],execute:function(){var T,f,C,m,v,g,E,_,R,B,S;i._RF.push({},"ba2c1HcnNNBDa6kv26FL71d","InputManager",void 0);var b=l.ccclass,d=l.property;t("InputManager",(T=b("InputManager"),f=d({type:y}),C=d({type:a}),m=d({type:a}),v=d({type:a}),T((_=e((E=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,n(e,"playerController",_,r(e)),n(e,"leftButton",R,r(e)),n(e,"rightButton",B,r(e)),n(e,"jumpButton",S,r(e)),e.touchStartPos=new s,e.touchStartTime=0,e.swipeThreshold=40,e}o(e,t);var i=e.prototype;return i.onLoad=function(){h.on(u.EventType.KEY_DOWN,this.onKeyDown,this),h.on(u.EventType.TOUCH_START,this.onTouchStart,this),h.on(u.EventType.TOUCH_END,this.onTouchEnd,this),this.leftButton&&this.leftButton.on(a.EventType.TOUCH_START,this.playerController.moveLeft,this.playerController),this.rightButton&&this.rightButton.on(a.EventType.TOUCH_START,this.playerController.moveRight,this.playerController),this.jumpButton&&this.jumpButton.on(a.EventType.TOUCH_START,this.playerController.jump,this.playerController)},i.onDestroy=function(){h.off(u.EventType.KEY_DOWN,this.onKeyDown,this),this.node.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.leftButton&&this.leftButton.off(a.EventType.TOUCH_START,this.playerController.moveLeft,this.playerController),this.rightButton&&this.rightButton.off(a.EventType.TOUCH_START,this.playerController.moveRight,this.playerController),this.jumpButton&&this.jumpButton.off(a.EventType.TOUCH_START,this.playerController.jump,this.playerController)},i.onKeyDown=function(t){if(this.playerController)switch(t.keyCode){case p.KEY_A:case p.ARROW_LEFT:this.playerController.moveLeft();break;case p.KEY_D:case p.ARROW_RIGHT:this.playerController.moveRight();break;case p.KEY_W:case p.ARROW_UP:case p.SPACE:this.playerController.jump()}},i.onTouchStart=function(t){this.touchStartPos=t.getUILocation(),this.touchStartTime=performance.now()},i.onTouchEnd=function(t){if(this.playerController){var e=t.getUILocation(),o=performance.now()-this.touchStartTime,n=e.x-this.touchStartPos.x,r=e.y-this.touchStartPos.y,i=Math.abs(n),l=Math.abs(r);i>l&&i>this.swipeThreshold?n>0?this.playerController.moveRight():this.playerController.moveLeft():o<200&&i<25&&l<25&&this.playerController.jump()}},e}(c)).prototype,"playerController",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(E.prototype,"leftButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"rightButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(E.prototype,"jumpButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/LaneRenderer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,i,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Graphics,i=e.Color,a=e.Component}],execute:function(){var s;n._RF.push({},"72e5fHwEs9PMLyb6PysBfo7","LaneRenderer",void 0);var c=r.ccclass,u=(r.property,[-120,0,120]),d=1.5,l=.5,h=1.2;e("LaneRenderer",c("LaneRenderer")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){var e=this.getComponent(o);e?(e.lineWidth=10,e.strokeColor=new i(255,255,255,204),this.drawCurvedLine(0,1,e),this.drawCurvedLine(1,2,e),e.stroke()):console.error("Please add a Graphics component to the LaneRenderer node in the editor.")},r.drawCurvedLine=function(e,t,n){n.moveTo(this.getMidX(e,t,0),0);for(var r=10;r<=960;r+=10){var o=this.getMidX(e,t,r);n.lineTo(o,r)}},r.getMidX=function(e,t,n){var r=this.laneCenterXAtY(e,n);return r+(this.laneCenterXAtY(t,n)-r)/2},r.laneScaleAtY=function(e){var t=Math.min(1,Math.max(0,e/960)),n=Math.pow(t,h);return d+(l-d)*n},r.laneCenterXAtY=function(e,t){return 0+u[e]*this.laneScaleAtY(t)},n}(a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationData.ts",["cc"],(function(I){var E;return{setters:[function(I){E=I.cclegacy}],execute:function(){var _,O,T,N;E._RF.push({},"cba70VhzkND9I0H3OPU/shP","LocalizationData",void 0);var S=I("ETextKey",function(I){return I[I.PLAY=0]="PLAY",I[I.RESTART=1]="RESTART",I[I.JUMP=2]="JUMP",I[I.POWERUP_SPEED=3]="POWERUP_SPEED",I[I.POWERUP_MAGNET=4]="POWERUP_MAGNET",I[I.POWERUP_CHILLIES=5]="POWERUP_CHILLIES",I[I.ENGLISH=6]="ENGLISH",I[I.HINDI=7]="HINDI",I[I.HIGH_SCORE=8]="HIGH_SCORE",I[I.INFO_1_TITLE=9]="INFO_1_TITLE",I[I.INFO_1_TITLE1=10]="INFO_1_TITLE1",I[I.INFO_1_DESC=11]="INFO_1_DESC",I[I.INFO_2_TITLE=12]="INFO_2_TITLE",I[I.INFO_2_TITLE1=13]="INFO_2_TITLE1",I[I.INFO_2_DESC=14]="INFO_2_DESC",I[I.INFO_3_TITLE=15]="INFO_3_TITLE",I[I.INFO_3_TITLE1=16]="INFO_3_TITLE1",I[I.INFO_3_DESC=17]="INFO_3_DESC",I[I.HOW_TO_PLAY=18]="HOW_TO_PLAY",I[I.ARABIC=19]="ARABIC",I[I.SPINNEYS_TAG=20]="SPINNEYS_TAG",I[I.COPY_CODE=21]="COPY_CODE",I[I.INFO_4_TITLE=22]="INFO_4_TITLE",I[I.TAG_LINE_2=23]="TAG_LINE_2",I[I.BONUS_INFO=24]="BONUS_INFO",I}({}));I("localizationData",{en:(_={},_[S.PLAY]="PLAY",_[S.RESTART]="RESTART",_[S.JUMP]="JUMP",_[S.POWERUP_SPEED]="SPEED",_[S.POWERUP_MAGNET]="MAGNET",_[S.POWERUP_CHILLIES]="CHIPS",_[S.ENGLISH]="ENGLISH",_[S.HINDI]="हिन्दी",_[S.HIGH_SCORE]="HIGH SCORE !",_[S.INFO_1_TITLE]="LIVES TO\nEAT CHIPS",_[S.INFO_1_TITLE1]="SWIPE TO MOVE,\nTAP TO JUMP",_[S.INFO_1_DESC]="AVOID OBSTACLES AND\nCOLLECT OUR TASTY CHIPS",_[S.INFO_2_TITLE]="NEW PREMIUM\nFLAVOURS",_[S.INFO_2_TITLE1]="NEW PREMIUM\nFLAVOURS !",_[S.INFO_2_DESC]="OUR 4 PREMIUM FLAVOURS\nGIVES YOU THAT TASTY\nADVANTAGE!",_[S.INFO_3_TITLE]="SPINNEY'S\nDISCOUNT",_[S.INFO_3_TITLE1]="SUPER CHILLY\nDISCOUNTS",_[S.INFO_3_DESC]="UPTO 30% OFF FOR YOUR\nNEXT PURCHASE FROM\nSPINNEYS.",_[S.HOW_TO_PLAY]="HOW TO PLAY",_[S.ARABIC]="عربي",_[S.SPINNEYS_TAG]="REDEEM THIS CODE AT SPINNEYS FOR A DISCOUNT",_[S.COPY_CODE]="COPY CODE",_[S.INFO_4_TITLE]="SHIELD",_[S.TAG_LINE_2]="Hunter's Gourmet Truffle flavors are always available at Spinneys!",_[S.BONUS_INFO]="Collect all four FLAVOURS to get a BONUS 50 points",_),hi:(O={},O[S.PLAY]="खेलें",O[S.RESTART]="फिर से शुरू करें",O[S.JUMP]="जम्प",O[S.POWERUP_SPEED]="स्पीड",O[S.POWERUP_MAGNET]="मैगनेट",O[S.POWERUP_CHILLIES]="चिलीज़",O[S.ENGLISH]="ENGLISH",O[S.HINDI]="हिन्दी",O[S.HIGH_SCORE]="उच्च स्कोर !",O[S.INFO_1_TITLE]="मिर्च खाने के\nलिए जीता है",O[S.INFO_1_DESC]="बाधाओं से बचें और\nमिर्च इकट्ठा करें",O[S.INFO_2_TITLE]="नए प्रीमियम\nफ्लेवर",O[S.INFO_2_DESC]="हमारे नए मिर्च-युक्त\nस्वादों का उपयोग करें",O[S.INFO_3_TITLE]="स्पिनीज़ पर\nधिकतम छूट",O[S.INFO_3_DESC]="रोमांचक छूट जीतें\nऔर स्कोर साझा करें",O[S.HOW_TO_PLAY]="कैसे खेलने के लिए",O[S.ARABIC]="عربي",O[S.SPINNEYS_TAG]="REDEEM THIS CODE AT SPINNEY'S FOR DISCOUNTS",O),en_HI:(T={},T[S.PLAY]="Khelo!",T[S.RESTART]="Phirse Khelo",T[S.JUMP]="JUMP",T[S.POWERUP_SPEED]="RAFTAAR",T[S.POWERUP_MAGNET]="CHUMBAK",T[S.POWERUP_CHILLIES]="Chillies",T[S.ENGLISH]="ENGLISH",T[S.HINDI]="HINGLISH",T[S.HIGH_SCORE]="HIGH SCORE !",T[S.INFO_1_TITLE]="life main\nmirchi bataro",T[S.INFO_1_TITLE1]="Mirchi batorne\nke 3 life",T[S.INFO_1_DESC]="Controls ke saath\nrukawaton se\nbacho aur\nmirchiyan batoro!",T[S.INFO_2_TITLE]="naye premium\nflavors",T[S.INFO_2_TITLE1]="Naye Premium\nFlavors",T[S.INFO_2_DESC]="Humare 3 naye\npremium flavors se\nmirchiyan batoro aur\nhigh score banao",T[S.INFO_3_TITLE]="adhiktam discount\nspinnys main",T[S.INFO_3_TITLE1]="Uttam\nBacchat!",T[S.INFO_3_DESC]="Humare discount\ncode se apni\nkhareedari par pao\n30% tak ki bacchat!",T[S.HOW_TO_PLAY]="Kaise Khele?",T[S.ARABIC]="عربي",T[S.SPINNEYS_TAG]="REDEEM THIS CODE AT SPINNEY'S FOR DISCOUNTS",T),ar:(N={},N[S.PLAY]="العب",N[S.RESTART]="إعادة البدء",N[S.JUMP]="اقفز",N[S.POWERUP_SPEED]="سرعة",N[S.POWERUP_MAGNET]="مغناطيس",N[S.POWERUP_CHILLIES]="فلفل حار",N[S.ENGLISH]="ENGLISH",N[S.HINDI]="हिन्दी",N[S.HIGH_SCORE]="أعلى نتيجة !",N[S.INFO_1_TITLE]="حياة لجمع\nالفلفل الحار",N[S.INFO_1_TITLE1]="اجمع الفلفل أو\nمت وأنت تحاول",N[S.INFO_1_DESC]="استخدم عناصر التحكم\nلتجنب العقبات وجمع\nأكبر عدد ممكن من\nالفلفل الحار !",N[S.INFO_2_TITLE]="نكهات فاخرة\nجديدة",N[S.INFO_2_TITLE1]="نكهات فاخرة\nجديدة !",N[S.INFO_2_DESC]="استخدم نكهاتنا الـ3\nالفاخرة الجديدة لجمع المزيد\nمن الفلفل الحار وتحقيق\nأعلى نتيجة",N[S.INFO_3_TITLE]="خصم أقصى\nفي سبينيس",N[S.INFO_3_TITLE1]="خصومات حارة\nجداً",N[S.INFO_3_DESC]="احصل على خصم يصل\nإلى 30% على مشترياتك\nالقادمة في سبينيس\nمع أكواد الخصم الخاصة بنا",N[S.HOW_TO_PLAY]="كيفية اللعب",N[S.ARABIC]="عربي",N[S.SPINNEYS_TAG]="استخدم هذا الرمز في SPINNEY'S للحصول على خصومات",N[S.COPY_CODE]="نسخ الكود",N[S.INFO_4_TITLE]="درع",N[S.TAG_LINE_2]="نكهات Hunter's Gourmet Truffle متوفرة دائمًا في Spinneys!",N[S.BONUS_INFO]="اجمع كل النكهات الأربع لتحصل على مكافأة قدرها 50 نقطة",N)});E._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizationManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationData.ts"],(function(n){var a,e,t,r,o,u,i;return{setters:[function(n){a=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,r=n.EventTarget,o=n.sys,u=n.Component},function(n){i=n.localizationData}],execute:function(){var g,c;e._RF.push({},"36877YA0K5DyIN9iESS7lAe","LocalizationManager",void 0);var l=t.ccclass,s=(t.property,n("languageChangeEvent",new r));n("LocalizationManager",l("LocalizationManager")(((c=function(n){function e(){for(var a,e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(a=n.call.apply(n,[this].concat(t))||this).currentLanguage="en",a}a(e,n);var t=e.prototype;return t.onLoad=function(){if(null===e.instance){e.instance=this;var n=o.localStorage.getItem("user_language");this.setLanguage(n||"en")}else this.destroy()},t.setLanguage=function(n){i[n]?(this.currentLanguage=n,o.localStorage.setItem("user_language",n),console.log("Language changed to: "+n),s.emit("language-changed")):(console.warn("Language '"+n+"' not found in data. Defaulting to 'en'."),this.currentLanguage="en")},t.getCurrentLanguage=function(){return this.currentLanguage},t.getTranslation=function(n){return i[this.currentLanguage][n]||"..."},t.getHorizontalAlign=function(){return"ar"===this.currentLanguage?2:0},t.getFontSizeMultiplayer=function(){return"ar"===this.currentLanguage?1.5:1},e}(u)).instance=null,g=c))||g);e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalizedLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizationData.ts","./LocalizationManager.ts"],(function(t){var e,n,a,i,o,l,r,u,c,s,g,p,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,l=t._decorator,r=t.Enum,u=t.Label,c=t.sys,s=t.Component},function(t){g=t.ETextKey},function(t){p=t.languageChangeEvent,f=t.LocalizationManager}],execute:function(){var h,z,b,d,y,L,v,x,m;o._RF.push({},"7b2f5N20NVMFo5I7zD4VUqQ","LocalizedLabel",void 0);var A=l.ccclass,F=l.property;r(g);t("LocalizedLabel",(h=A("LocalizedLabel"),z=F({type:g}),b=F(),d=F(),h((v=e((L=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,a(e,"textKey",v,i(e)),a(e,"updateHorizontalAlign",x,i(e)),a(e,"defaultFontSize",m,i(e)),e.label=null,e}n(e,t);var o=e.prototype;return o.onLoad=function(){this.label=this.getComponent(u),p.on("language-changed",this.updateText,this)},o.start=function(){var t=c.localStorage.getItem("user_language");f.instance.setLanguage(t||"en"),this.updateText()},o.onDestroy=function(){p.off("language-changed",this.updateText,this)},o.updateText=function(){this.label&&f.instance&&(this.label.string=f.instance.getTranslation(this.textKey),this.label.fontSize=this.defaultFontSize*f.instance.getFontSizeMultiplayer(),this.updateHorizontalAlign&&(this.label.horizontalAlign=f.instance.getHorizontalAlign()))},e}(s)).prototype,"textKey",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.PLAY}}),x=e(L.prototype,"updateHorizontalAlign",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=e(L.prototype,"defaultFontSize",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),y=L))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioManager.ts","./CameraShaker.ts","./CollisionManager.ts","./EnvironmentManager.ts","./GameManager.ts","./InputManager.ts","./LaneRenderer.ts","./LocalizationData.ts","./LocalizationManager.ts","./LocalizedLabel.ts","./MovingObject.ts","./PlayerController.ts","./PlayerVFX.ts","./PowerupManager.ts","./Spawner.ts","./Tagger.ts","./VFXManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MovingObject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Tagger.ts"],(function(n){var e,t,i,s,a,o,r,p,c,h,l;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,i=n._decorator,s=n.UIOpacity,a=n.Vec3,o=n.UITransform,r=n.tween,p=n.Component},function(n){c=n.GameManager},function(n){h=n.Tagger,l=n.EObjectType}],execute:function(){var u;t._RF.push({},"d54bfknD8ZBO40wVM2DlCPu","MovingObject",void 0);var g=i.ccclass;i.property,n("MovingObject",g("MovingObject")(u=function(n){function t(){for(var e,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))||this).spawner=null,e.laneIndex=0,e.isAnimatingDespawn=!1,e.initialScale=new a,e}e(t,n);var i=t.prototype;return i.onLoad=function(){this.node.on("despawn",this.initiateDespawn,this),this.initialScale.set(this.node.scale)},i.onDestroy=function(){this.node.off("despawn",this.initiateDespawn,this)},i.reuse=function(){this.isAnimatingDespawn=!1,this.node.setScale(this.initialScale);var n=this.getComponent(s);n&&(n.opacity=255)},i.unuse=function(){},i.update=function(n){var e;if(!this.isAnimatingDespawn){var t=c.instance;if(t){var i=t.currentGameSpeed,s=this.getComponent(h),o=!1;if(t&&t.playerController&&s&&s.tag!==l.Obstacle&&s.tag!==l.None&&null!=(e=t.powerupManager)&&e.isActive(l.PowerupMagnet)){var r=t.playerController.node.position,p=this.node.position;if(a.distance(p,r)<450){var u=new a;a.lerp(u,p,r,.1),this.node.setPosition(u),o=!0}}if(!o){if(!this.spawner||!this.spawner.laneRenderer)return;var g=this.node.getPosition();g.y-=i*n,g.x=this.spawner.laneRenderer.laneCenterXAtY(this.laneIndex,g.y),this.node.setPosition(g)}this.node.position.y<-550&&this.initiateDespawn()}}},i.initiateDespawn=function(){var n=this;if(!this.isAnimatingDespawn&&this.node.parent){var e=this.getComponent(h);if(e&&(e.tag===l.PowerupSpeed||e.tag===l.PowerupMagnet||e.tag===l.Powerup2x||e.tag===l.PowerupShield)){this.isAnimatingDespawn=!0;var t=this.getComponent(s),i=this.getComponent(o);t&&i?(i.priority=1e3,r(this.node).to(.05,{worldPosition:new a(270,480,0)},{easing:"cubicIn"}).start(),r(this.node).to(.3,{scale:new a(2,2,1)},{easing:"cubicIn"}).start(),r(t).to(.5,{opacity:0},{easing:"cubicIn"}).call((function(){n.finishDespawn()})).start()):(console.warn("Powerup missing UIOpacity or UITransform for animation."),this.finishDespawn())}else this.finishDespawn()}},i.finishDespawn=function(){if(this.node.parent&&this.spawner){var n=this.getComponent(o);n&&(n.priority=0),this.spawner.despawnObject(this.node)}},t}(p))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(i){var t,n,e,r,o,a,u,s,p,l,m,c;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,a=i._decorator,u=i.SpriteFrame,s=i.Sprite,p=i.tween,l=i.Vec3,m=i.Component},function(i){c=i.AudioManager}],execute:function(){var h,f,g,b,y,v,d,F,w,M,z,j,C,D,L;o._RF.push({},"2a1a7s2a5JI3q0b4iW3cWBk","PlayerController",void 0);var J=a.ccclass,T=a.property,R=[-160,0,160];i("PlayerController",(h=J("PlayerController"),f=T({type:c}),g=T({type:u}),b=T({type:u}),y=T({type:u}),h((F=t((d=function(i){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=i.call.apply(i,[this].concat(o))||this,e(t,"audioManager",F,r(t)),e(t,"moveDuration",w,r(t)),e(t,"jumpHeight",M,r(t)),e(t,"jumpDuration",z,r(t)),e(t,"runFrame1",j,r(t)),e(t,"runFrame2",C,r(t)),e(t,"jumpFrame",D,r(t)),e(t,"animationInterval",L,r(t)),t.isJumping=!1,t.currentLane=1,t.isMoving=!1,t.startY=0,t.animationTimer=0,t.currentRunFrame=0,t.spriteComponent=null,t}n(t,i);var o=t.prototype;return o.onLoad=function(){this.startY=this.node.position.y,this.spriteComponent=this.getComponent(s)},o.update=function(i){this.handleAnimation(i)},o.handleAnimation=function(i){this.spriteComponent&&(this.isJumping?this.spriteComponent.spriteFrame=this.jumpFrame:(this.animationTimer+=i,this.animationTimer>=this.animationInterval&&(this.animationTimer=0,this.currentRunFrame=1-this.currentRunFrame,this.spriteComponent.spriteFrame=0===this.currentRunFrame?this.runFrame1:this.runFrame2)))},o.moveLeft=function(){this.isJumping||this.isMoving||0===this.currentLane||(this.currentLane--,this.startMoveTween())},o.moveRight=function(){this.isJumping||this.isMoving||2===this.currentLane||(this.currentLane++,this.startMoveTween())},o.jump=function(){var i,t=this;this.isJumping||(this.isJumping=!0,null==(i=this.audioManager)||i.playJumpSfx(),p(this.node).to(this.jumpDuration/2,{position:new l(this.node.position.x,this.startY+this.jumpHeight,this.node.position.z)},{easing:"cubicOut"}).to(this.jumpDuration/2,{position:new l(this.node.position.x,this.startY,this.node.position.z)},{easing:"cubicIn"}).call((function(){t.isJumping=!1})).start())},o.startMoveTween=function(){var i=this;this.isMoving=!0;var t=R[this.currentLane];p(this.node).to(this.moveDuration,{position:new l(t,this.node.position.y,this.node.position.z)}).call((function(){i.isMoving=!1})).start()},t}(m)).prototype,"audioManager",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(d.prototype,"moveDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.25}}),M=t(d.prototype,"jumpHeight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 150}}),z=t(d.prototype,"jumpDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),j=t(d.prototype,"runFrame1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(d.prototype,"runFrame2",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(d.prototype,"jumpFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(d.prototype,"animationInterval",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.15}}),v=d))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerVFX.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts"],(function(t){var e,i,r,n,a,o,p,l,u,s,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,p=t.Sprite,l=t.UIOpacity,u=t.SpriteFrame,s=t.Component},function(t){c=t.EObjectType}],execute:function(){var h,f,d,y,S,F,g,b,m,v,X,V,x,O,w,I,P;a._RF.push({},"4ed79/V49lP2KZV/g4snoAn","PlayerVFX",void 0);var D=o.ccclass,z=o.property,k=function(t){return t[t.Idle=0]="Idle",t[t.FadingIn=1]="FadingIn",t[t.Holding=2]="Holding",t[t.FadingOut=3]="FadingOut",t}(k||{});t("PlayerVFX",(h=D("PlayerVFX"),f=z(p),d=z(l),y=z({type:u}),S=z({type:u}),F=z({type:u}),g=z({type:u}),b=z({type:u}),h((X=e((v=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"vfxSprite",X,n(e)),r(e,"vfxOpacity",V,n(e)),r(e,"defaultVFXSprite",x,n(e)),r(e,"speedVFXSprite",O,n(e)),r(e,"magnetVFXSprite",w,n(e)),r(e,"twoXVFXSprite",I,n(e)),r(e,"shieldVFXSprite",P,n(e)),e.currentState=k.Idle,e.timer=0,e.fadeInDuration=.1,e.holdDuration=.35,e.fadeOutDuration=.25,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.vfxSprite&&this.vfxOpacity&&(this.vfxOpacity.opacity=0)},a.update=function(t){if(this.vfxOpacity)switch(this.currentState){case k.FadingIn:this.timer+=t,this.vfxOpacity.opacity=Math.min(255,this.timer/this.fadeInDuration*255),this.timer>=this.fadeInDuration&&(this.vfxOpacity.opacity=255,this.currentState=k.Holding,this.timer=0);break;case k.Holding:this.timer+=t,this.timer>=this.holdDuration&&(this.currentState=k.FadingOut,this.timer=0);break;case k.FadingOut:this.timer+=t,this.vfxOpacity.opacity=Math.max(0,255-this.timer/this.fadeOutDuration*255),this.timer>=this.fadeOutDuration&&(this.vfxOpacity.opacity=0,this.currentState=k.Idle,this.vfxSprite&&(this.vfxSprite.spriteFrame=null));break;case k.Idle:}},a.playVFX=function(t){if(void 0===t&&(t=c.None),this.vfxSprite&&this.vfxOpacity&&this.currentState===k.Idle){var e=null;switch(t){case c.PowerupSpeed:e=this.speedVFXSprite;break;case c.PowerupMagnet:e=this.magnetVFXSprite;break;case c.Powerup2x:e=this.twoXVFXSprite;break;case c.PowerupShield:e=this.shieldVFXSprite;break;default:e=this.defaultVFXSprite}(e||(console.warn("PlayerVFX: No sprite frame assigned for active powerup type or default."),e=this.defaultVFXSprite))&&(this.vfxSprite.spriteFrame=e,this.vfxOpacity.opacity=0,this.currentState=k.FadingIn,this.timer=0,this.node.parent&&this.node.setSiblingIndex(this.node.parent.children.length-1))}},e}(s)).prototype,"vfxSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(v.prototype,"vfxOpacity",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(v.prototype,"defaultVFXSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(v.prototype,"speedVFXSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"magnetVFXSprite",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(v.prototype,"twoXVFXSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(v.prototype,"shieldVFXSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/PowerupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tagger.ts"],(function(e){var t,r,a,o,i,n;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,o=e._decorator,i=e.Component},function(e){n=e.EObjectType}],execute:function(){var u;a._RF.push({},"83ee1Ev2+1KPZIEE1XhME6H","PowerupManager",void 0);var p=o.ccclass,s=(o.property,new Map([[n.PowerupSpeed,{duration:4}],[n.PowerupMagnet,{duration:6}],[n.Powerup2x,{duration:10}],[n.PowerupShield,{duration:8}]]));e("PowerupManager",p("PowerupManager")(u=function(e){function a(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))||this).activePowerups=new Map,t._lastActivatedPowerupType=n.None,t}t(a,e);var o=a.prototype;return o.update=function(e){for(var t,a=!1,o=r(this.activePowerups.entries());!(t=o()).done;){var i=t.value,n=i[0],u=i[1];u.timeLeft-=e,u.timeLeft<=0&&(this.activePowerups.delete(n),a=!0)}!a&&this.isActive(this._lastActivatedPowerupType)||this.updateLastActivatedPowerup()},o.activatePowerup=function(e){var t=s.get(e);t&&(this.activePowerups.set(e,{type:e,duration:t.duration,timeLeft:t.duration,activationTime:Date.now()}),this.updateLastActivatedPowerup(),console.log("Activated power-up: "+n[e]))},o.deactivatePowerup=function(e){this.activePowerups.has(e)&&(this.activePowerups.delete(e),this.updateLastActivatedPowerup(),console.log("Deactivated power-up: "+n[e]))},o.isActive=function(e){return this.activePowerups.has(e)},o.getProgress=function(e){var t=this.activePowerups.get(e);return t?t.timeLeft/t.duration:0},o.getDominantActivePowerup=function(){return this._lastActivatedPowerupType},o.updateLastActivatedPowerup=function(){for(var e,t=n.None,a=-1,o=r(this.activePowerups.entries());!(e=o()).done;){var i=e.value,u=(i[0],i[1]);u.activationTime>a&&(a=u.activationTime,t=u.type)}this._lastActivatedPowerupType=t},a}(i))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/Spawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MovingObject.ts","./LaneRenderer.ts","./GameManager.ts"],(function(e){var t,o,r,i,a,n,s,l,p,h,u,w,c,f,P,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose,n=e.createClass},function(e){s=e.cclegacy,l=e._decorator,p=e.Prefab,h=e.NodePool,u=e.instantiate,w=e.random,c=e.randomRangeInt,f=e.Component},function(e){P=e.MovingObject},function(e){b=e.LaneRenderer},function(e){d=e.GameManager}],execute:function(){var g,m,S,v,y,M,O,x,z,R,j,I,T,C,L,A,D,_,k,F,G;s._RF.push({},"45d98V1a/tA9rNM9l3y6vvd","Spawner",void 0);var H=l.ccclass,N=l.property;e("Spawner",(g=H("Spawner"),m=N({type:[p]}),S=N({type:p}),v=N({type:p}),y=N({type:p}),M=N({type:p}),O=N({type:p}),x=N({type:p}),z=N({type:p}),R=N({tooltip:"Minimum time (in seconds) between obstacle spawns."}),g((T=t((I=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),n=0;n<o;n++)a[n]=arguments[n];return(t=e.call.apply(e,[this].concat(a))||this).laneRenderer=new b,r(t,"cratePrefabs",T,i(t)),r(t,"chilliPrefab",C,i(t)),r(t,"flowerPrefab",L,i(t)),r(t,"grassPrefab",A,i(t)),r(t,"powerupSpeedPrefab",D,i(t)),r(t,"powerupMagnetPrefab",_,i(t)),r(t,"powerup2xPrefab",k,i(t)),r(t,"powerupShieldPrefab",F,i(t)),r(t,"obstacleSpawnInterval",G,i(t)),t.cratePools=[],t.chilliPool=new h,t.flowerPool=new h,t.grassPool=new h,t.powerupSpeedPool=new h,t.powerupMagnetPool=new h,t.powerup2xPool=new h,t.powerupShieldPool=new h,t.pools=new Map,t.powerupPools=[],t.powerupPrefabs=[],t.obstaclePools=[],t.obstaclePrefabs=[],t.generalSpawnTimer=0,t.obstacleTimer=0,t}o(t,e);var s=t.prototype;return s.onLoad=function(){var e=this;this.cratePrefabs.forEach((function(t){var o=new h;e.initPool(o,t,5),e.cratePools.push(o),t&&e.pools.set(t.name,o)})),this.initPool(this.chilliPool,this.chilliPrefab,20),this.initPool(this.flowerPool,this.flowerPrefab,5),this.initPool(this.grassPool,this.grassPrefab,5),this.initPool(this.powerupSpeedPool,this.powerupSpeedPrefab,2),this.initPool(this.powerupMagnetPool,this.powerupMagnetPrefab,2),this.initPool(this.powerup2xPool,this.powerup2xPrefab,2),this.initPool(this.powerupShieldPool,this.powerupShieldPrefab,2),this.chilliPrefab&&this.pools.set(this.chilliPrefab.name,this.chilliPool),this.flowerPrefab&&this.pools.set(this.flowerPrefab.name,this.flowerPool),this.grassPrefab&&this.pools.set(this.grassPrefab.name,this.grassPool),this.powerupSpeedPrefab&&this.pools.set(this.powerupSpeedPrefab.name,this.powerupSpeedPool),this.powerupMagnetPrefab&&this.pools.set(this.powerupMagnetPrefab.name,this.powerupMagnetPool),this.powerup2xPrefab&&this.pools.set(this.powerup2xPrefab.name,this.powerup2xPool),this.powerupShieldPrefab&&this.pools.set(this.powerupShieldPrefab.name,this.powerupShieldPool),this.powerupPools=[this.powerupSpeedPool,this.powerupMagnetPool,this.powerup2xPool,this.powerupShieldPool],this.powerupPrefabs=[this.powerupSpeedPrefab,this.powerupMagnetPrefab,this.powerup2xPrefab,this.powerupShieldPrefab],this.obstaclePools=[].concat(this.cratePools,[this.grassPool,this.flowerPool]),this.obstaclePrefabs=[].concat(this.cratePrefabs,[this.grassPrefab,this.flowerPrefab])},s.initPool=function(e,t,o){if(t)for(var r=0;r<o;r++){var i=u(t);e.put(i)}},s.update=function(e){if(this.generalSpawnTimer+=5*e,this.obstacleTimer+=e,this.obstacleTimer>=this.obstacleSpawnInterval&&(this.obstacleTimer=0,this.spawnObstaclePattern()),this.generalSpawnTimer>=this.generalSpawnInterval){this.generalSpawnTimer=0;var t=w();t<.2&&this.powerupPools.length>0?this.spawnRandomPowerUp():t<.4&&t>.2&&this.obstaclePools.length>0?this.obstacleTimer>.1&&this.spawnObstaclePattern():this.spawnChilliPattern()}},s.spawnRandomPowerUp=function(){if(0!==this.powerupPools.length){var e=c(0,this.powerupPools.length),t=c(0,3);this.trySpawnObject(this.powerupPools[e],this.powerupPrefabs[e],t)}},s.spawnObstaclePattern=function(){var e,t=c(0,3);this.spawnRandomObstacle(t);do{e=c(0,3)}while(e===t);this.spawnRandomObstacle(e)},s.spawnRandomObstacle=function(e){if(0!==this.obstaclePools.length){var t=c(0,this.obstaclePools.length);this.trySpawnObject(this.obstaclePools[t],this.obstaclePrefabs[t],e)}},s.spawnChilliPattern=function(){for(var e=c(1,4),t=new Set,o=0;o<e;o++){var r=void 0;do{r=c(0,3)}while(t.has(r));t.add(r),this.trySpawnObject(this.chilliPool,this.chilliPrefab,r)}},s.trySpawnObject=function(e,t,o){for(var r,i=-1/0,n=a(this.node.children);!(r=n()).done;){var s=r.value,l=s.getComponent(P);l&&!l.isAnimatingDespawn&&l.laneIndex===o&&(i=Math.max(i,s.position.y))}550-i<150||this.spawnObject(e,t,o)},s.spawnObject=function(e,t,o){if(t){var r=e.size()>0?e.get():u(t);if(r){var i=r.getComponent(P);i&&(i.spawner=this,i.laneIndex=o);var a=this.laneRenderer.laneCenterXAtY(o,550);r.setPosition(a,550,0),this.node.addChild(r)}}},s.despawnObject=function(e){var t=this.pools.get(e.name);t?t.put(e):e.destroy()},n(t,[{key:"gameSpeed",get:function(){var e,t;return null!=(e=null==(t=d.instance)?void 0:t.currentGameSpeed)?e:400}},{key:"generalSpawnInterval",get:function(){return 100/this.gameSpeed*2}}]),t}(f)).prototype,"cratePrefabs",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(I.prototype,"chilliPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"flowerPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(I.prototype,"grassPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(I.prototype,"powerupSpeedPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(I.prototype,"powerupMagnetPrefab",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(I.prototype,"powerup2xPrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(I.prototype,"powerupShieldPrefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(I.prototype,"obstacleSpawnInterval",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),j=I))||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/Tagger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,a,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,u=e.Enum,c=e.Component}],execute:function(){var p,l,s,g,d;i._RF.push({},"def5db2VCdHRpzCdcJYttKF","Tagger",void 0);var f=a.ccclass,h=a.property,w=e("EObjectType",function(e){return e[e.None=0]="None",e[e.Chilli=1]="Chilli",e[e.Obstacle=2]="Obstacle",e[e.PowerupSpeed=3]="PowerupSpeed",e[e.PowerupMagnet=4]="PowerupMagnet",e[e.Powerup2x=5]="Powerup2x",e[e.PowerupShield=6]="PowerupShield",e}({}));u(w);e("Tagger",(p=f("Tagger"),l=h({type:w}),p((d=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"tag",d,o(r)),r}return t(r,e),r}(c)).prototype,"tag",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.None}}),s=g))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/VFXManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(e){var t,o,i,r,n,l,a,c,f,s,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Prefab,c=e.NodePool,f=e.instantiate,s=e.ParticleSystem2D,u=e.Vec3,p=e.Component},function(e){h=e.GameManager}],execute:function(){var P,y,b,d,g,E,v;n._RF.push({},"b519d6p5ZBDjYjwhRdSLa9f","VFXManager",void 0);var m=l.ccclass,F=l.property;e("VFXManager",(P=m("VFXManager"),y=F({type:a}),b=F({type:a}),P((E=t((g=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,i(t,"hitEffectPrefab",E,r(t)),i(t,"collectEffectPrefab",v,r(t)),t.hitPool=new c,t.collectPool=new c,t}o(t,e);var n=t.prototype;return n.onLoad=function(){this.initPool(this.hitPool,this.hitEffectPrefab,5),this.initPool(this.collectPool,this.collectEffectPrefab,10)},n.initPool=function(e,t,o){if(t)for(var i=0;i<o;i++){var r=f(t);e.put(r)}},n.playHitEffect=function(){this.playEffect(this.hitPool,this.hitEffectPrefab)},n.playCollectEffect=function(){this.playEffect(this.collectPool,this.collectEffectPrefab)},n.playEffect=function(e,t){if(t){var o=h.instance;if(o&&o.playerController){var i=o.playerController.node,r=e.size()>0?e.get():f(t);if(r){var n=r.getComponent(s);n?(n.resetSystem(),i.addChild(r),r.setPosition(u.ZERO),this.scheduleOnce((function(){e.put(r)}),n.life+n.duration)):r.destroy()}}else console.error("Player controller not found for FX!")}},t}(p)).prototype,"hitEffectPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"collectEffectPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=g))||d));n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});